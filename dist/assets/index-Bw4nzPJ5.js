function Ap(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function $p(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Qc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Yc={exports:{}},$s={},Xc={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fi=Symbol.for("react.element"),Lp=Symbol.for("react.portal"),Up=Symbol.for("react.fragment"),Dp=Symbol.for("react.strict_mode"),Mp=Symbol.for("react.profiler"),Bp=Symbol.for("react.provider"),zp=Symbol.for("react.context"),Fp=Symbol.for("react.forward_ref"),Vp=Symbol.for("react.suspense"),Wp=Symbol.for("react.memo"),Hp=Symbol.for("react.lazy"),su=Symbol.iterator;function qp(t){return t===null||typeof t!="object"?null:(t=su&&t[su]||t["@@iterator"],typeof t=="function"?t:null)}var Zc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ed=Object.assign,td={};function or(t,e,n){this.props=t,this.context=e,this.refs=td,this.updater=n||Zc}or.prototype.isReactComponent={};or.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};or.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nd(){}nd.prototype=or.prototype;function el(t,e,n){this.props=t,this.context=e,this.refs=td,this.updater=n||Zc}var tl=el.prototype=new nd;tl.constructor=el;ed(tl,or.prototype);tl.isPureReactComponent=!0;var ou=Array.isArray,rd=Object.prototype.hasOwnProperty,nl={current:null},id={key:!0,ref:!0,__self:!0,__source:!0};function sd(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)rd.call(e,r)&&!id.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fi,type:t,key:s,ref:o,props:i,_owner:nl.current}}function Kp(t,e){return{$$typeof:fi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rl(t){return typeof t=="object"&&t!==null&&t.$$typeof===fi}function Gp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var au=/\/+/g;function uo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Gp(""+t.key):e.toString(36)}function Gi(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fi:case Lp:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+uo(o,0):r,ou(i)?(n="",t!=null&&(n=t.replace(au,"$&/")+"/"),Gi(i,e,n,"",function(u){return u})):i!=null&&(rl(i)&&(i=Kp(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(au,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ou(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+uo(s,a);o+=Gi(s,e,n,l,i)}else if(l=qp(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+uo(s,a++),o+=Gi(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ki(t,e,n){if(t==null)return t;var r=[],i=0;return Gi(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Jp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ee={current:null},Ji={transition:null},Qp={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:Ji,ReactCurrentOwner:nl};function od(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:ki,forEach:function(t,e,n){ki(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ki(t,function(){e++}),e},toArray:function(t){return ki(t,function(e){return e})||[]},only:function(t){if(!rl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=or;B.Fragment=Up;B.Profiler=Mp;B.PureComponent=el;B.StrictMode=Dp;B.Suspense=Vp;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qp;B.act=od;B.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ed({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=nl.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)rd.call(e,l)&&!id.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:fi,type:t.type,key:i,ref:s,props:r,_owner:o}};B.createContext=function(t){return t={$$typeof:zp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Bp,_context:t},t.Consumer=t};B.createElement=sd;B.createFactory=function(t){var e=sd.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:Fp,render:t}};B.isValidElement=rl;B.lazy=function(t){return{$$typeof:Hp,_payload:{_status:-1,_result:t},_init:Jp}};B.memo=function(t,e){return{$$typeof:Wp,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=Ji.transition;Ji.transition={};try{t()}finally{Ji.transition=e}};B.unstable_act=od;B.useCallback=function(t,e){return Ee.current.useCallback(t,e)};B.useContext=function(t){return Ee.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return Ee.current.useDeferredValue(t)};B.useEffect=function(t,e){return Ee.current.useEffect(t,e)};B.useId=function(){return Ee.current.useId()};B.useImperativeHandle=function(t,e,n){return Ee.current.useImperativeHandle(t,e,n)};B.useInsertionEffect=function(t,e){return Ee.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return Ee.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return Ee.current.useMemo(t,e)};B.useReducer=function(t,e,n){return Ee.current.useReducer(t,e,n)};B.useRef=function(t){return Ee.current.useRef(t)};B.useState=function(t){return Ee.current.useState(t)};B.useSyncExternalStore=function(t,e,n){return Ee.current.useSyncExternalStore(t,e,n)};B.useTransition=function(){return Ee.current.useTransition()};B.version="18.3.1";Xc.exports=B;var x=Xc.exports;const ad=$p(x),Yp=Ap({__proto__:null,default:ad},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp=x,Zp=Symbol.for("react.element"),eg=Symbol.for("react.fragment"),tg=Object.prototype.hasOwnProperty,ng=Xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rg={key:!0,ref:!0,__self:!0,__source:!0};function ld(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)tg.call(e,r)&&!rg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Zp,type:t,key:s,ref:o,props:i,_owner:ng.current}}$s.Fragment=eg;$s.jsx=ld;$s.jsxs=ld;Yc.exports=$s;var m=Yc.exports,qo={},ud={exports:{}},Be={},cd={exports:{}},dd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,A){var I=O.length;O.push(A);e:for(;0<I;){var L=I-1>>>1,V=O[L];if(0<i(V,A))O[L]=A,O[I]=V,I=L;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var A=O[0],I=O.pop();if(I!==A){O[0]=I;e:for(var L=0,V=O.length,_e=V>>>1;L<_e;){var te=2*(L+1)-1,ut=O[te],Xe=te+1,Fe=O[Xe];if(0>i(ut,I))Xe<V&&0>i(Fe,ut)?(O[L]=Fe,O[Xe]=I,L=Xe):(O[L]=ut,O[te]=I,L=te);else if(Xe<V&&0>i(Fe,I))O[L]=Fe,O[Xe]=I,L=Xe;else break e}}return A}function i(O,A){var I=O.sortIndex-A.sortIndex;return I!==0?I:O.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,v=!1,w=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(O){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=O)r(u),A.sortIndex=A.expirationTime,e(l,A);else break;A=n(u)}}function _(O){if(y=!1,p(O),!w)if(n(l)!==null)w=!0,jt(k);else{var A=n(u);A!==null&&en(_,A.startTime-O)}}function k(O,A){w=!1,y&&(y=!1,g(C),C=-1),v=!0;var I=f;try{for(p(A),d=n(l);d!==null&&(!(d.expirationTime>A)||O&&!ue());){var L=d.callback;if(typeof L=="function"){d.callback=null,f=d.priorityLevel;var V=L(d.expirationTime<=A);A=t.unstable_now(),typeof V=="function"?d.callback=V:d===n(l)&&r(l),p(A)}else r(l);d=n(l)}if(d!==null)var _e=!0;else{var te=n(u);te!==null&&en(_,te.startTime-A),_e=!1}return _e}finally{d=null,f=I,v=!1}}var E=!1,b=null,C=-1,D=5,$=-1;function ue(){return!(t.unstable_now()-$<D)}function be(){if(b!==null){var O=t.unstable_now();$=O;var A=!0;try{A=b(!0,O)}finally{A?Je():(E=!1,b=null)}}else E=!1}var Je;if(typeof h=="function")Je=function(){h(be)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Ye=Qe.port2;Qe.port1.onmessage=be,Je=function(){Ye.postMessage(null)}}else Je=function(){S(be,0)};function jt(O){b=O,E||(E=!0,Je())}function en(O,A){C=S(function(){O(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,jt(k))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var I=f;f=A;try{return O()}finally{f=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,A){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var I=f;f=O;try{return A()}finally{f=I}},t.unstable_scheduleCallback=function(O,A,I){var L=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?L+I:L):I=L,O){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=I+V,O={id:c++,callback:A,priorityLevel:O,startTime:I,expirationTime:V,sortIndex:-1},I>L?(O.sortIndex=I,e(u,O),n(l)===null&&O===n(u)&&(y?(g(C),C=-1):y=!0,en(_,I-L))):(O.sortIndex=V,e(l,O),w||v||(w=!0,jt(k))),O},t.unstable_shouldYield=ue,t.unstable_wrapCallback=function(O){var A=f;return function(){var I=f;f=A;try{return O.apply(this,arguments)}finally{f=I}}}})(dd);cd.exports=dd;var ig=cd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg=x,Me=ig;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hd=new Set,Hr={};function Sn(t,e){Yn(t,e),Yn(t+"Capture",e)}function Yn(t,e){for(Hr[t]=e,t=0;t<e.length;t++)hd.add(e[t])}var Et=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ko=Object.prototype.hasOwnProperty,og=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lu={},uu={};function ag(t){return Ko.call(uu,t)?!0:Ko.call(lu,t)?!1:og.test(t)?uu[t]=!0:(lu[t]=!0,!1)}function lg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ug(t,e,n,r){if(e===null||typeof e>"u"||lg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xe(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ge[t]=new xe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ge[e]=new xe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ge[t]=new xe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ge[t]=new xe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ge[t]=new xe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ge[t]=new xe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ge[t]=new xe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ge[t]=new xe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ge[t]=new xe(t,5,!1,t.toLowerCase(),null,!1,!1)});var il=/[\-:]([a-z])/g;function sl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(il,sl);ge[e]=new xe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(il,sl);ge[e]=new xe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(il,sl);ge[e]=new xe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ge[t]=new xe(t,1,!1,t.toLowerCase(),null,!1,!1)});ge.xlinkHref=new xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ge[t]=new xe(t,1,!1,t.toLowerCase(),null,!0,!0)});function ol(t,e,n,r){var i=ge.hasOwnProperty(e)?ge[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ug(e,n,i,r)&&(n=null),r||i===null?ag(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ct=sg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ei=Symbol.for("react.element"),In=Symbol.for("react.portal"),Nn=Symbol.for("react.fragment"),al=Symbol.for("react.strict_mode"),Go=Symbol.for("react.profiler"),fd=Symbol.for("react.provider"),pd=Symbol.for("react.context"),ll=Symbol.for("react.forward_ref"),Jo=Symbol.for("react.suspense"),Qo=Symbol.for("react.suspense_list"),ul=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),gd=Symbol.for("react.offscreen"),cu=Symbol.iterator;function wr(t){return t===null||typeof t!="object"?null:(t=cu&&t[cu]||t["@@iterator"],typeof t=="function"?t:null)}var X=Object.assign,co;function Cr(t){if(co===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);co=e&&e[1]||""}return`
`+co+t}var ho=!1;function fo(t,e){if(!t||ho)return"";ho=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ho=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cr(t):""}function cg(t){switch(t.tag){case 5:return Cr(t.type);case 16:return Cr("Lazy");case 13:return Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 2:case 15:return t=fo(t.type,!1),t;case 11:return t=fo(t.type.render,!1),t;case 1:return t=fo(t.type,!0),t;default:return""}}function Yo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Nn:return"Fragment";case In:return"Portal";case Go:return"Profiler";case al:return"StrictMode";case Jo:return"Suspense";case Qo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pd:return(t.displayName||"Context")+".Consumer";case fd:return(t._context.displayName||"Context")+".Provider";case ll:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ul:return e=t.displayName||null,e!==null?e:Yo(t.type)||"Memo";case It:e=t._payload,t=t._init;try{return Yo(t(e))}catch{}}return null}function dg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yo(e);case 8:return e===al?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hg(t){var e=vd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xi(t){t._valueTracker||(t._valueTracker=hg(t))}function md(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vd(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xo(t,e){var n=e.checked;return X({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function du(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yd(t,e){e=e.checked,e!=null&&ol(t,"checked",e,!1)}function Zo(t,e){yd(t,e);var n=Gt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ea(t,e.type,n):e.hasOwnProperty("defaultValue")&&ea(t,e.type,Gt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ea(t,e,n){(e!=="number"||os(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var jr=Array.isArray;function Wn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ta(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return X({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(jr(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gt(n)}}function wd(t,e){var n=Gt(e.value),r=Gt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _d(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function na(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_d(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bi,Sd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bi=bi||document.createElement("div"),bi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fg=["Webkit","ms","Moz","O"];Object.keys(Nr).forEach(function(t){fg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nr[e]=Nr[t]})});function kd(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nr.hasOwnProperty(t)&&Nr[t]?(""+e).trim():e+"px"}function Ed(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kd(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pg=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ra(t,e){if(e){if(pg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function ia(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sa=null;function cl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oa=null,Hn=null,qn=null;function gu(t){if(t=vi(t)){if(typeof oa!="function")throw Error(T(280));var e=t.stateNode;e&&(e=Bs(e),oa(t.stateNode,t.type,e))}}function xd(t){Hn?qn?qn.push(t):qn=[t]:Hn=t}function bd(){if(Hn){var t=Hn,e=qn;if(qn=Hn=null,gu(t),e)for(t=0;t<e.length;t++)gu(e[t])}}function Td(t,e){return t(e)}function Cd(){}var po=!1;function jd(t,e,n){if(po)return t(e,n);po=!0;try{return Td(t,e,n)}finally{po=!1,(Hn!==null||qn!==null)&&(Cd(),bd())}}function Kr(t,e){var n=t.stateNode;if(n===null)return null;var r=Bs(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var aa=!1;if(Et)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){aa=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{aa=!1}function gg(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ar=!1,as=null,ls=!1,la=null,vg={onError:function(t){Ar=!0,as=t}};function mg(t,e,n,r,i,s,o,a,l){Ar=!1,as=null,gg.apply(vg,arguments)}function yg(t,e,n,r,i,s,o,a,l){if(mg.apply(this,arguments),Ar){if(Ar){var u=as;Ar=!1,as=null}else throw Error(T(198));ls||(ls=!0,la=u)}}function kn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Od(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vu(t){if(kn(t)!==t)throw Error(T(188))}function wg(t){var e=t.alternate;if(!e){if(e=kn(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return vu(i),t;if(s===r)return vu(i),e;s=s.sibling}throw Error(T(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function Pd(t){return t=wg(t),t!==null?Rd(t):null}function Rd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Rd(t);if(e!==null)return e;t=t.sibling}return null}var Id=Me.unstable_scheduleCallback,mu=Me.unstable_cancelCallback,_g=Me.unstable_shouldYield,Sg=Me.unstable_requestPaint,ee=Me.unstable_now,kg=Me.unstable_getCurrentPriorityLevel,dl=Me.unstable_ImmediatePriority,Nd=Me.unstable_UserBlockingPriority,us=Me.unstable_NormalPriority,Eg=Me.unstable_LowPriority,Ad=Me.unstable_IdlePriority,Ls=null,ft=null;function xg(t){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Ls,t,void 0,(t.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:Cg,bg=Math.log,Tg=Math.LN2;function Cg(t){return t>>>=0,t===0?32:31-(bg(t)/Tg|0)|0}var Ti=64,Ci=4194304;function Or(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Or(a):(s&=o,s!==0&&(r=Or(s)))}else o=n&~i,o!==0?r=Or(o):s!==0&&(r=Or(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ot(e),i=1<<n,r|=t[n],e&=~i;return r}function jg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Og(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=jg(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function ua(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $d(){var t=Ti;return Ti<<=1,!(Ti&4194240)&&(Ti=64),t}function go(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ot(e),t[e]=n}function Pg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function hl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ot(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var F=0;function Ld(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ud,fl,Dd,Md,Bd,ca=!1,ji=[],Bt=null,zt=null,Ft=null,Gr=new Map,Jr=new Map,At=[],Rg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yu(t,e){switch(t){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Gr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(e.pointerId)}}function Sr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=vi(e),e!==null&&fl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Ig(t,e,n,r,i){switch(e){case"focusin":return Bt=Sr(Bt,t,e,n,r,i),!0;case"dragenter":return zt=Sr(zt,t,e,n,r,i),!0;case"mouseover":return Ft=Sr(Ft,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Gr.set(s,Sr(Gr.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Jr.set(s,Sr(Jr.get(s)||null,t,e,n,r,i)),!0}return!1}function zd(t){var e=un(t.target);if(e!==null){var n=kn(e);if(n!==null){if(e=n.tag,e===13){if(e=Od(n),e!==null){t.blockedOn=e,Bd(t.priority,function(){Dd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=da(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sa=r,n.target.dispatchEvent(r),sa=null}else return e=vi(n),e!==null&&fl(e),t.blockedOn=n,!1;e.shift()}return!0}function wu(t,e,n){Qi(t)&&n.delete(e)}function Ng(){ca=!1,Bt!==null&&Qi(Bt)&&(Bt=null),zt!==null&&Qi(zt)&&(zt=null),Ft!==null&&Qi(Ft)&&(Ft=null),Gr.forEach(wu),Jr.forEach(wu)}function kr(t,e){t.blockedOn===e&&(t.blockedOn=null,ca||(ca=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,Ng)))}function Qr(t){function e(i){return kr(i,t)}if(0<ji.length){kr(ji[0],t);for(var n=1;n<ji.length;n++){var r=ji[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bt!==null&&kr(Bt,t),zt!==null&&kr(zt,t),Ft!==null&&kr(Ft,t),Gr.forEach(e),Jr.forEach(e),n=0;n<At.length;n++)r=At[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<At.length&&(n=At[0],n.blockedOn===null);)zd(n),n.blockedOn===null&&At.shift()}var Kn=Ct.ReactCurrentBatchConfig,ds=!0;function Ag(t,e,n,r){var i=F,s=Kn.transition;Kn.transition=null;try{F=1,pl(t,e,n,r)}finally{F=i,Kn.transition=s}}function $g(t,e,n,r){var i=F,s=Kn.transition;Kn.transition=null;try{F=4,pl(t,e,n,r)}finally{F=i,Kn.transition=s}}function pl(t,e,n,r){if(ds){var i=da(t,e,n,r);if(i===null)bo(t,e,r,hs,n),yu(t,r);else if(Ig(i,t,e,n,r))r.stopPropagation();else if(yu(t,r),e&4&&-1<Rg.indexOf(t)){for(;i!==null;){var s=vi(i);if(s!==null&&Ud(s),s=da(t,e,n,r),s===null&&bo(t,e,r,hs,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else bo(t,e,r,null,n)}}var hs=null;function da(t,e,n,r){if(hs=null,t=cl(r),t=un(t),t!==null)if(e=kn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Od(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hs=t,null}function Fd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kg()){case dl:return 1;case Nd:return 4;case us:case Eg:return 16;case Ad:return 536870912;default:return 16}default:return 16}}var Ut=null,gl=null,Yi=null;function Vd(){if(Yi)return Yi;var t,e=gl,n=e.length,r,i="value"in Ut?Ut.value:Ut.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Yi=i.slice(t,1<r?1-r:void 0)}function Xi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Oi(){return!0}function _u(){return!1}function ze(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Oi:_u,this.isPropagationStopped=_u,this}return X(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),e}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=ze(ar),gi=X({},ar,{view:0,detail:0}),Lg=ze(gi),vo,mo,Er,Us=X({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Er&&(Er&&t.type==="mousemove"?(vo=t.screenX-Er.screenX,mo=t.screenY-Er.screenY):mo=vo=0,Er=t),vo)},movementY:function(t){return"movementY"in t?t.movementY:mo}}),Su=ze(Us),Ug=X({},Us,{dataTransfer:0}),Dg=ze(Ug),Mg=X({},gi,{relatedTarget:0}),yo=ze(Mg),Bg=X({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),zg=ze(Bg),Fg=X({},ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vg=ze(Fg),Wg=X({},ar,{data:0}),ku=ze(Wg),Hg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gg(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Kg[t])?!!e[t]:!1}function ml(){return Gg}var Jg=X({},gi,{key:function(t){if(t.key){var e=Hg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(t){return t.type==="keypress"?Xi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qg=ze(Jg),Yg=X({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eu=ze(Yg),Xg=X({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),Zg=ze(Xg),ev=X({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),tv=ze(ev),nv=X({},Us,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rv=ze(nv),iv=[9,13,27,32],yl=Et&&"CompositionEvent"in window,$r=null;Et&&"documentMode"in document&&($r=document.documentMode);var sv=Et&&"TextEvent"in window&&!$r,Wd=Et&&(!yl||$r&&8<$r&&11>=$r),xu=" ",bu=!1;function Hd(t,e){switch(t){case"keyup":return iv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var An=!1;function ov(t,e){switch(t){case"compositionend":return qd(e);case"keypress":return e.which!==32?null:(bu=!0,xu);case"textInput":return t=e.data,t===xu&&bu?null:t;default:return null}}function av(t,e){if(An)return t==="compositionend"||!yl&&Hd(t,e)?(t=Vd(),Yi=gl=Ut=null,An=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wd&&e.locale!=="ko"?null:e.data;default:return null}}var lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lv[t.type]:e==="textarea"}function Kd(t,e,n,r){xd(r),e=fs(e,"onChange"),0<e.length&&(n=new vl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Lr=null,Yr=null;function uv(t){ih(t,0)}function Ds(t){var e=Un(t);if(md(e))return t}function cv(t,e){if(t==="change")return e}var Gd=!1;if(Et){var wo;if(Et){var _o="oninput"in document;if(!_o){var Cu=document.createElement("div");Cu.setAttribute("oninput","return;"),_o=typeof Cu.oninput=="function"}wo=_o}else wo=!1;Gd=wo&&(!document.documentMode||9<document.documentMode)}function ju(){Lr&&(Lr.detachEvent("onpropertychange",Jd),Yr=Lr=null)}function Jd(t){if(t.propertyName==="value"&&Ds(Yr)){var e=[];Kd(e,Yr,t,cl(t)),jd(uv,e)}}function dv(t,e,n){t==="focusin"?(ju(),Lr=e,Yr=n,Lr.attachEvent("onpropertychange",Jd)):t==="focusout"&&ju()}function hv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ds(Yr)}function fv(t,e){if(t==="click")return Ds(e)}function pv(t,e){if(t==="input"||t==="change")return Ds(e)}function gv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lt=typeof Object.is=="function"?Object.is:gv;function Xr(t,e){if(lt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ko.call(e,i)||!lt(t[i],e[i]))return!1}return!0}function Ou(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pu(t,e){var n=Ou(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ou(n)}}function Qd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Qd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Yd(){for(var t=window,e=os();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=os(t.document)}return e}function wl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vv(t){var e=Yd(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Qd(n.ownerDocument.documentElement,n)){if(r!==null&&wl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Pu(n,s);var o=Pu(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mv=Et&&"documentMode"in document&&11>=document.documentMode,$n=null,ha=null,Ur=null,fa=!1;function Ru(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fa||$n==null||$n!==os(r)||(r=$n,"selectionStart"in r&&wl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ur&&Xr(Ur,r)||(Ur=r,r=fs(ha,"onSelect"),0<r.length&&(e=new vl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$n)))}function Pi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ln={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionend:Pi("Transition","TransitionEnd")},So={},Xd={};Et&&(Xd=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function Ms(t){if(So[t])return So[t];if(!Ln[t])return t;var e=Ln[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Xd)return So[t]=e[n];return t}var Zd=Ms("animationend"),eh=Ms("animationiteration"),th=Ms("animationstart"),nh=Ms("transitionend"),rh=new Map,Iu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(t,e){rh.set(t,e),Sn(e,[t])}for(var ko=0;ko<Iu.length;ko++){var Eo=Iu[ko],yv=Eo.toLowerCase(),wv=Eo[0].toUpperCase()+Eo.slice(1);Qt(yv,"on"+wv)}Qt(Zd,"onAnimationEnd");Qt(eh,"onAnimationIteration");Qt(th,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(nh,"onTransitionEnd");Yn("onMouseEnter",["mouseout","mouseover"]);Yn("onMouseLeave",["mouseout","mouseover"]);Yn("onPointerEnter",["pointerout","pointerover"]);Yn("onPointerLeave",["pointerout","pointerover"]);Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_v=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Nu(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yg(r,e,void 0,t),t.currentTarget=null}function ih(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Nu(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Nu(i,a,u),s=l}}}if(ls)throw t=la,ls=!1,la=null,t}function q(t,e){var n=e[ya];n===void 0&&(n=e[ya]=new Set);var r=t+"__bubble";n.has(r)||(sh(e,t,2,!1),n.add(r))}function xo(t,e,n){var r=0;e&&(r|=4),sh(n,t,r,e)}var Ri="_reactListening"+Math.random().toString(36).slice(2);function Zr(t){if(!t[Ri]){t[Ri]=!0,hd.forEach(function(n){n!=="selectionchange"&&(_v.has(n)||xo(n,!1,t),xo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ri]||(e[Ri]=!0,xo("selectionchange",!1,e))}}function sh(t,e,n,r){switch(Fd(e)){case 1:var i=Ag;break;case 4:i=$g;break;default:i=pl}n=i.bind(null,e,n,t),i=void 0,!aa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bo(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=un(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}jd(function(){var u=s,c=cl(n),d=[];e:{var f=rh.get(t);if(f!==void 0){var v=vl,w=t;switch(t){case"keypress":if(Xi(n)===0)break e;case"keydown":case"keyup":v=Qg;break;case"focusin":w="focus",v=yo;break;case"focusout":w="blur",v=yo;break;case"beforeblur":case"afterblur":v=yo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Dg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Zg;break;case Zd:case eh:case th:v=zg;break;case nh:v=tv;break;case"scroll":v=Lg;break;case"wheel":v=rv;break;case"copy":case"cut":case"paste":v=Vg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Eu}var y=(e&4)!==0,S=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var h=u,p;h!==null;){p=h;var _=p.stateNode;if(p.tag===5&&_!==null&&(p=_,g!==null&&(_=Kr(h,g),_!=null&&y.push(ei(h,_,p)))),S)break;h=h.return}0<y.length&&(f=new v(f,w,null,n,c),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==sa&&(w=n.relatedTarget||n.fromElement)&&(un(w)||w[xt]))break e;if((v||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?un(w):null,w!==null&&(S=kn(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(y=Su,_="onMouseLeave",g="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(y=Eu,_="onPointerLeave",g="onPointerEnter",h="pointer"),S=v==null?f:Un(v),p=w==null?f:Un(w),f=new y(_,h+"leave",v,n,c),f.target=S,f.relatedTarget=p,_=null,un(c)===u&&(y=new y(g,h+"enter",w,n,c),y.target=p,y.relatedTarget=S,_=y),S=_,v&&w)t:{for(y=v,g=w,h=0,p=y;p;p=xn(p))h++;for(p=0,_=g;_;_=xn(_))p++;for(;0<h-p;)y=xn(y),h--;for(;0<p-h;)g=xn(g),p--;for(;h--;){if(y===g||g!==null&&y===g.alternate)break t;y=xn(y),g=xn(g)}y=null}else y=null;v!==null&&Au(d,f,v,y,!1),w!==null&&S!==null&&Au(d,S,w,y,!0)}}e:{if(f=u?Un(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var k=cv;else if(Tu(f))if(Gd)k=pv;else{k=hv;var E=dv}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=fv);if(k&&(k=k(t,u))){Kd(d,k,n,c);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&ea(f,"number",f.value)}switch(E=u?Un(u):window,t){case"focusin":(Tu(E)||E.contentEditable==="true")&&($n=E,ha=u,Ur=null);break;case"focusout":Ur=ha=$n=null;break;case"mousedown":fa=!0;break;case"contextmenu":case"mouseup":case"dragend":fa=!1,Ru(d,n,c);break;case"selectionchange":if(mv)break;case"keydown":case"keyup":Ru(d,n,c)}var b;if(yl)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else An?Hd(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Wd&&n.locale!=="ko"&&(An||C!=="onCompositionStart"?C==="onCompositionEnd"&&An&&(b=Vd()):(Ut=c,gl="value"in Ut?Ut.value:Ut.textContent,An=!0)),E=fs(u,C),0<E.length&&(C=new ku(C,t,null,n,c),d.push({event:C,listeners:E}),b?C.data=b:(b=qd(n),b!==null&&(C.data=b)))),(b=sv?ov(t,n):av(t,n))&&(u=fs(u,"onBeforeInput"),0<u.length&&(c=new ku("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}ih(d,e)})}function ei(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fs(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Kr(t,n),s!=null&&r.unshift(ei(t,s,i)),s=Kr(t,e),s!=null&&r.push(ei(t,s,i))),t=t.return}return r}function xn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Au(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Kr(n,s),l!=null&&o.unshift(ei(n,l,a))):i||(l=Kr(n,s),l!=null&&o.push(ei(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Sv=/\r\n?/g,kv=/\u0000|\uFFFD/g;function $u(t){return(typeof t=="string"?t:""+t).replace(Sv,`
`).replace(kv,"")}function Ii(t,e,n){if(e=$u(e),$u(t)!==e&&n)throw Error(T(425))}function ps(){}var pa=null,ga=null;function va(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ma=typeof setTimeout=="function"?setTimeout:void 0,Ev=typeof clearTimeout=="function"?clearTimeout:void 0,Lu=typeof Promise=="function"?Promise:void 0,xv=typeof queueMicrotask=="function"?queueMicrotask:typeof Lu<"u"?function(t){return Lu.resolve(null).then(t).catch(bv)}:ma;function bv(t){setTimeout(function(){throw t})}function To(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qr(e)}function Vt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var lr=Math.random().toString(36).slice(2),ht="__reactFiber$"+lr,ti="__reactProps$"+lr,xt="__reactContainer$"+lr,ya="__reactEvents$"+lr,Tv="__reactListeners$"+lr,Cv="__reactHandles$"+lr;function un(t){var e=t[ht];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xt]||n[ht]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uu(t);t!==null;){if(n=t[ht])return n;t=Uu(t)}return e}t=n,n=t.parentNode}return null}function vi(t){return t=t[ht]||t[xt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Un(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function Bs(t){return t[ti]||null}var wa=[],Dn=-1;function Yt(t){return{current:t}}function K(t){0>Dn||(t.current=wa[Dn],wa[Dn]=null,Dn--)}function H(t,e){Dn++,wa[Dn]=t.current,t.current=e}var Jt={},we=Yt(Jt),Oe=Yt(!1),vn=Jt;function Xn(t,e){var n=t.type.contextTypes;if(!n)return Jt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pe(t){return t=t.childContextTypes,t!=null}function gs(){K(Oe),K(we)}function Du(t,e,n){if(we.current!==Jt)throw Error(T(168));H(we,e),H(Oe,n)}function oh(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(T(108,dg(t)||"Unknown",i));return X({},n,r)}function vs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jt,vn=we.current,H(we,t),H(Oe,Oe.current),!0}function Mu(t,e,n){var r=t.stateNode;if(!r)throw Error(T(169));n?(t=oh(t,e,vn),r.__reactInternalMemoizedMergedChildContext=t,K(Oe),K(we),H(we,t)):K(Oe),H(Oe,n)}var wt=null,zs=!1,Co=!1;function ah(t){wt===null?wt=[t]:wt.push(t)}function jv(t){zs=!0,ah(t)}function Xt(){if(!Co&&wt!==null){Co=!0;var t=0,e=F;try{var n=wt;for(F=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wt=null,zs=!1}catch(i){throw wt!==null&&(wt=wt.slice(t+1)),Id(dl,Xt),i}finally{F=e,Co=!1}}return null}var Mn=[],Bn=0,ms=null,ys=0,Ve=[],We=0,mn=null,_t=1,St="";function rn(t,e){Mn[Bn++]=ys,Mn[Bn++]=ms,ms=t,ys=e}function lh(t,e,n){Ve[We++]=_t,Ve[We++]=St,Ve[We++]=mn,mn=t;var r=_t;t=St;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_t=1<<32-ot(e)+i|n<<i|r,St=s+t}else _t=1<<s|n<<i|r,St=t}function _l(t){t.return!==null&&(rn(t,1),lh(t,1,0))}function Sl(t){for(;t===ms;)ms=Mn[--Bn],Mn[Bn]=null,ys=Mn[--Bn],Mn[Bn]=null;for(;t===mn;)mn=Ve[--We],Ve[We]=null,St=Ve[--We],Ve[We]=null,_t=Ve[--We],Ve[We]=null}var De=null,Ue=null,G=!1,st=null;function uh(t,e){var n=He(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Bu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,De=t,Ue=Vt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,De=t,Ue=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mn!==null?{id:_t,overflow:St}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=He(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,De=t,Ue=null,!0):!1;default:return!1}}function _a(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sa(t){if(G){var e=Ue;if(e){var n=e;if(!Bu(t,e)){if(_a(t))throw Error(T(418));e=Vt(n.nextSibling);var r=De;e&&Bu(t,e)?uh(r,n):(t.flags=t.flags&-4097|2,G=!1,De=t)}}else{if(_a(t))throw Error(T(418));t.flags=t.flags&-4097|2,G=!1,De=t}}}function zu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;De=t}function Ni(t){if(t!==De)return!1;if(!G)return zu(t),G=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!va(t.type,t.memoizedProps)),e&&(e=Ue)){if(_a(t))throw ch(),Error(T(418));for(;e;)uh(t,e),e=Vt(e.nextSibling)}if(zu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ue=Vt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ue=null}}else Ue=De?Vt(t.stateNode.nextSibling):null;return!0}function ch(){for(var t=Ue;t;)t=Vt(t.nextSibling)}function Zn(){Ue=De=null,G=!1}function kl(t){st===null?st=[t]:st.push(t)}var Ov=Ct.ReactCurrentBatchConfig;function xr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function Ai(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fu(t){var e=t._init;return e(t._payload)}function dh(t){function e(g,h){if(t){var p=g.deletions;p===null?(g.deletions=[h],g.flags|=16):p.push(h)}}function n(g,h){if(!t)return null;for(;h!==null;)e(g,h),h=h.sibling;return null}function r(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function i(g,h){return g=Kt(g,h),g.index=0,g.sibling=null,g}function s(g,h,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<h?(g.flags|=2,h):p):(g.flags|=2,h)):(g.flags|=1048576,h)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,h,p,_){return h===null||h.tag!==6?(h=Ao(p,g.mode,_),h.return=g,h):(h=i(h,p),h.return=g,h)}function l(g,h,p,_){var k=p.type;return k===Nn?c(g,h,p.props.children,_,p.key):h!==null&&(h.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===It&&Fu(k)===h.type)?(_=i(h,p.props),_.ref=xr(g,h,p),_.return=g,_):(_=ss(p.type,p.key,p.props,null,g.mode,_),_.ref=xr(g,h,p),_.return=g,_)}function u(g,h,p,_){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=$o(p,g.mode,_),h.return=g,h):(h=i(h,p.children||[]),h.return=g,h)}function c(g,h,p,_,k){return h===null||h.tag!==7?(h=pn(p,g.mode,_,k),h.return=g,h):(h=i(h,p),h.return=g,h)}function d(g,h,p){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Ao(""+h,g.mode,p),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ei:return p=ss(h.type,h.key,h.props,null,g.mode,p),p.ref=xr(g,null,h),p.return=g,p;case In:return h=$o(h,g.mode,p),h.return=g,h;case It:var _=h._init;return d(g,_(h._payload),p)}if(jr(h)||wr(h))return h=pn(h,g.mode,p,null),h.return=g,h;Ai(g,h)}return null}function f(g,h,p,_){var k=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return k!==null?null:a(g,h,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ei:return p.key===k?l(g,h,p,_):null;case In:return p.key===k?u(g,h,p,_):null;case It:return k=p._init,f(g,h,k(p._payload),_)}if(jr(p)||wr(p))return k!==null?null:c(g,h,p,_,null);Ai(g,p)}return null}function v(g,h,p,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(p)||null,a(h,g,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ei:return g=g.get(_.key===null?p:_.key)||null,l(h,g,_,k);case In:return g=g.get(_.key===null?p:_.key)||null,u(h,g,_,k);case It:var E=_._init;return v(g,h,p,E(_._payload),k)}if(jr(_)||wr(_))return g=g.get(p)||null,c(h,g,_,k,null);Ai(h,_)}return null}function w(g,h,p,_){for(var k=null,E=null,b=h,C=h=0,D=null;b!==null&&C<p.length;C++){b.index>C?(D=b,b=null):D=b.sibling;var $=f(g,b,p[C],_);if($===null){b===null&&(b=D);break}t&&b&&$.alternate===null&&e(g,b),h=s($,h,C),E===null?k=$:E.sibling=$,E=$,b=D}if(C===p.length)return n(g,b),G&&rn(g,C),k;if(b===null){for(;C<p.length;C++)b=d(g,p[C],_),b!==null&&(h=s(b,h,C),E===null?k=b:E.sibling=b,E=b);return G&&rn(g,C),k}for(b=r(g,b);C<p.length;C++)D=v(b,g,C,p[C],_),D!==null&&(t&&D.alternate!==null&&b.delete(D.key===null?C:D.key),h=s(D,h,C),E===null?k=D:E.sibling=D,E=D);return t&&b.forEach(function(ue){return e(g,ue)}),G&&rn(g,C),k}function y(g,h,p,_){var k=wr(p);if(typeof k!="function")throw Error(T(150));if(p=k.call(p),p==null)throw Error(T(151));for(var E=k=null,b=h,C=h=0,D=null,$=p.next();b!==null&&!$.done;C++,$=p.next()){b.index>C?(D=b,b=null):D=b.sibling;var ue=f(g,b,$.value,_);if(ue===null){b===null&&(b=D);break}t&&b&&ue.alternate===null&&e(g,b),h=s(ue,h,C),E===null?k=ue:E.sibling=ue,E=ue,b=D}if($.done)return n(g,b),G&&rn(g,C),k;if(b===null){for(;!$.done;C++,$=p.next())$=d(g,$.value,_),$!==null&&(h=s($,h,C),E===null?k=$:E.sibling=$,E=$);return G&&rn(g,C),k}for(b=r(g,b);!$.done;C++,$=p.next())$=v(b,g,C,$.value,_),$!==null&&(t&&$.alternate!==null&&b.delete($.key===null?C:$.key),h=s($,h,C),E===null?k=$:E.sibling=$,E=$);return t&&b.forEach(function(be){return e(g,be)}),G&&rn(g,C),k}function S(g,h,p,_){if(typeof p=="object"&&p!==null&&p.type===Nn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ei:e:{for(var k=p.key,E=h;E!==null;){if(E.key===k){if(k=p.type,k===Nn){if(E.tag===7){n(g,E.sibling),h=i(E,p.props.children),h.return=g,g=h;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===It&&Fu(k)===E.type){n(g,E.sibling),h=i(E,p.props),h.ref=xr(g,E,p),h.return=g,g=h;break e}n(g,E);break}else e(g,E);E=E.sibling}p.type===Nn?(h=pn(p.props.children,g.mode,_,p.key),h.return=g,g=h):(_=ss(p.type,p.key,p.props,null,g.mode,_),_.ref=xr(g,h,p),_.return=g,g=_)}return o(g);case In:e:{for(E=p.key;h!==null;){if(h.key===E)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(g,h.sibling),h=i(h,p.children||[]),h.return=g,g=h;break e}else{n(g,h);break}else e(g,h);h=h.sibling}h=$o(p,g.mode,_),h.return=g,g=h}return o(g);case It:return E=p._init,S(g,h,E(p._payload),_)}if(jr(p))return w(g,h,p,_);if(wr(p))return y(g,h,p,_);Ai(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,h!==null&&h.tag===6?(n(g,h.sibling),h=i(h,p),h.return=g,g=h):(n(g,h),h=Ao(p,g.mode,_),h.return=g,g=h),o(g)):n(g,h)}return S}var er=dh(!0),hh=dh(!1),ws=Yt(null),_s=null,zn=null,El=null;function xl(){El=zn=_s=null}function bl(t){var e=ws.current;K(ws),t._currentValue=e}function ka(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Gn(t,e){_s=t,El=zn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(je=!0),t.firstContext=null)}function Ke(t){var e=t._currentValue;if(El!==t)if(t={context:t,memoizedValue:e,next:null},zn===null){if(_s===null)throw Error(T(308));zn=t,_s.dependencies={lanes:0,firstContext:t}}else zn=zn.next=t;return e}var cn=null;function Tl(t){cn===null?cn=[t]:cn.push(t)}function fh(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Tl(e)):(n.next=i.next,i.next=n),e.interleaved=n,bt(t,r)}function bt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Nt=!1;function Cl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ph(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,z&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,bt(t,n)}return i=r.interleaved,i===null?(e.next=e,Tl(r)):(e.next=i.next,i.next=e),r.interleaved=e,bt(t,n)}function Zi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hl(t,n)}}function Vu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ss(t,e,n,r){var i=t.updateQueue;Nt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,v=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,y=a;switch(f=e,v=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){d=w.call(v,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,f=typeof w=="function"?w.call(v,d,f):w,f==null)break e;d=X({},d,f);break e;case 2:Nt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=v,l=d):c=c.next=v,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);wn|=o,t.lanes=o,t.memoizedState=d}}function Wu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(T(191,i));i.call(r)}}}var mi={},pt=Yt(mi),ni=Yt(mi),ri=Yt(mi);function dn(t){if(t===mi)throw Error(T(174));return t}function jl(t,e){switch(H(ri,e),H(ni,t),H(pt,mi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:na(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=na(e,t)}K(pt),H(pt,e)}function tr(){K(pt),K(ni),K(ri)}function gh(t){dn(ri.current);var e=dn(pt.current),n=na(e,t.type);e!==n&&(H(ni,t),H(pt,n))}function Ol(t){ni.current===t&&(K(pt),K(ni))}var Q=Yt(0);function ks(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jo=[];function Pl(){for(var t=0;t<jo.length;t++)jo[t]._workInProgressVersionPrimary=null;jo.length=0}var es=Ct.ReactCurrentDispatcher,Oo=Ct.ReactCurrentBatchConfig,yn=0,Y=null,oe=null,de=null,Es=!1,Dr=!1,ii=0,Pv=0;function ve(){throw Error(T(321))}function Rl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lt(t[n],e[n]))return!1;return!0}function Il(t,e,n,r,i,s){if(yn=s,Y=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,es.current=t===null||t.memoizedState===null?Av:$v,t=n(r,i),Dr){s=0;do{if(Dr=!1,ii=0,25<=s)throw Error(T(301));s+=1,de=oe=null,e.updateQueue=null,es.current=Lv,t=n(r,i)}while(Dr)}if(es.current=xs,e=oe!==null&&oe.next!==null,yn=0,de=oe=Y=null,Es=!1,e)throw Error(T(300));return t}function Nl(){var t=ii!==0;return ii=0,t}function dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Y.memoizedState=de=t:de=de.next=t,de}function Ge(){if(oe===null){var t=Y.alternate;t=t!==null?t.memoizedState:null}else t=oe.next;var e=de===null?Y.memoizedState:de.next;if(e!==null)de=e,oe=t;else{if(t===null)throw Error(T(310));oe=t,t={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},de===null?Y.memoizedState=de=t:de=de.next=t}return de}function si(t,e){return typeof e=="function"?e(t):e}function Po(t){var e=Ge(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=oe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((yn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Y.lanes|=c,wn|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,lt(r,e.memoizedState)||(je=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Y.lanes|=s,wn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ro(t){var e=Ge(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);lt(s,e.memoizedState)||(je=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function vh(){}function mh(t,e){var n=Y,r=Ge(),i=e(),s=!lt(r.memoizedState,i);if(s&&(r.memoizedState=i,je=!0),r=r.queue,Al(_h.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||de!==null&&de.memoizedState.tag&1){if(n.flags|=2048,oi(9,wh.bind(null,n,r,i,e),void 0,null),he===null)throw Error(T(349));yn&30||yh(n,e,i)}return i}function yh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wh(t,e,n,r){e.value=n,e.getSnapshot=r,Sh(e)&&kh(t)}function _h(t,e,n){return n(function(){Sh(e)&&kh(t)})}function Sh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lt(t,n)}catch{return!0}}function kh(t){var e=bt(t,1);e!==null&&at(e,t,1,-1)}function Hu(t){var e=dt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:t},e.queue=t,t=t.dispatch=Nv.bind(null,Y,t),[e.memoizedState,t]}function oi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Eh(){return Ge().memoizedState}function ts(t,e,n,r){var i=dt();Y.flags|=t,i.memoizedState=oi(1|e,n,void 0,r===void 0?null:r)}function Fs(t,e,n,r){var i=Ge();r=r===void 0?null:r;var s=void 0;if(oe!==null){var o=oe.memoizedState;if(s=o.destroy,r!==null&&Rl(r,o.deps)){i.memoizedState=oi(e,n,s,r);return}}Y.flags|=t,i.memoizedState=oi(1|e,n,s,r)}function qu(t,e){return ts(8390656,8,t,e)}function Al(t,e){return Fs(2048,8,t,e)}function xh(t,e){return Fs(4,2,t,e)}function bh(t,e){return Fs(4,4,t,e)}function Th(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ch(t,e,n){return n=n!=null?n.concat([t]):null,Fs(4,4,Th.bind(null,e,t),n)}function $l(){}function jh(t,e){var n=Ge();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Oh(t,e){var n=Ge();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ph(t,e,n){return yn&21?(lt(n,e)||(n=$d(),Y.lanes|=n,wn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,je=!0),t.memoizedState=n)}function Rv(t,e){var n=F;F=n!==0&&4>n?n:4,t(!0);var r=Oo.transition;Oo.transition={};try{t(!1),e()}finally{F=n,Oo.transition=r}}function Rh(){return Ge().memoizedState}function Iv(t,e,n){var r=qt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ih(t))Nh(e,n);else if(n=fh(t,e,n,r),n!==null){var i=ke();at(n,t,r,i),Ah(n,e,r)}}function Nv(t,e,n){var r=qt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ih(t))Nh(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,lt(a,o)){var l=e.interleaved;l===null?(i.next=i,Tl(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=fh(t,e,i,r),n!==null&&(i=ke(),at(n,t,r,i),Ah(n,e,r))}}function Ih(t){var e=t.alternate;return t===Y||e!==null&&e===Y}function Nh(t,e){Dr=Es=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ah(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hl(t,n)}}var xs={readContext:Ke,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},Av={readContext:Ke,useCallback:function(t,e){return dt().memoizedState=[t,e===void 0?null:e],t},useContext:Ke,useEffect:qu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ts(4194308,4,Th.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ts(4194308,4,t,e)},useInsertionEffect:function(t,e){return ts(4,2,t,e)},useMemo:function(t,e){var n=dt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Iv.bind(null,Y,t),[r.memoizedState,t]},useRef:function(t){var e=dt();return t={current:t},e.memoizedState=t},useState:Hu,useDebugValue:$l,useDeferredValue:function(t){return dt().memoizedState=t},useTransition:function(){var t=Hu(!1),e=t[0];return t=Rv.bind(null,t[1]),dt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Y,i=dt();if(G){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),he===null)throw Error(T(349));yn&30||yh(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,qu(_h.bind(null,r,s,t),[t]),r.flags|=2048,oi(9,wh.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=dt(),e=he.identifierPrefix;if(G){var n=St,r=_t;n=(r&~(1<<32-ot(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ii++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Pv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$v={readContext:Ke,useCallback:jh,useContext:Ke,useEffect:Al,useImperativeHandle:Ch,useInsertionEffect:xh,useLayoutEffect:bh,useMemo:Oh,useReducer:Po,useRef:Eh,useState:function(){return Po(si)},useDebugValue:$l,useDeferredValue:function(t){var e=Ge();return Ph(e,oe.memoizedState,t)},useTransition:function(){var t=Po(si)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:vh,useSyncExternalStore:mh,useId:Rh,unstable_isNewReconciler:!1},Lv={readContext:Ke,useCallback:jh,useContext:Ke,useEffect:Al,useImperativeHandle:Ch,useInsertionEffect:xh,useLayoutEffect:bh,useMemo:Oh,useReducer:Ro,useRef:Eh,useState:function(){return Ro(si)},useDebugValue:$l,useDeferredValue:function(t){var e=Ge();return oe===null?e.memoizedState=t:Ph(e,oe.memoizedState,t)},useTransition:function(){var t=Ro(si)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:vh,useSyncExternalStore:mh,useId:Rh,unstable_isNewReconciler:!1};function tt(t,e){if(t&&t.defaultProps){e=X({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ea(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:X({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vs={isMounted:function(t){return(t=t._reactInternals)?kn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ke(),i=qt(t),s=kt(r,i);s.payload=e,n!=null&&(s.callback=n),e=Wt(t,s,i),e!==null&&(at(e,t,i,r),Zi(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ke(),i=qt(t),s=kt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wt(t,s,i),e!==null&&(at(e,t,i,r),Zi(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ke(),r=qt(t),i=kt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wt(t,i,r),e!==null&&(at(e,t,r,n),Zi(e,t,r))}};function Ku(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xr(n,r)||!Xr(i,s):!0}function $h(t,e,n){var r=!1,i=Jt,s=e.contextType;return typeof s=="object"&&s!==null?s=Ke(s):(i=Pe(e)?vn:we.current,r=e.contextTypes,s=(r=r!=null)?Xn(t,i):Jt),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vs,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Gu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vs.enqueueReplaceState(e,e.state,null)}function xa(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Cl(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ke(s):(s=Pe(e)?vn:we.current,i.context=Xn(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ea(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vs.enqueueReplaceState(i,i.state,null),Ss(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function nr(t,e){try{var n="",r=e;do n+=cg(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Io(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ba(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Uv=typeof WeakMap=="function"?WeakMap:Map;function Lh(t,e,n){n=kt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ts||(Ts=!0,$a=r),ba(t,e)},n}function Uh(t,e,n){n=kt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ba(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ba(t,e),typeof r!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ju(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Uv;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Yv.bind(null,t,e,n),e.then(t,t))}function Qu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yu(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kt(-1,1),e.tag=2,Wt(n,e,1))),n.lanes|=1),t)}var Dv=Ct.ReactCurrentOwner,je=!1;function Se(t,e,n,r){e.child=t===null?hh(e,null,n,r):er(e,t.child,n,r)}function Xu(t,e,n,r,i){n=n.render;var s=e.ref;return Gn(e,i),r=Il(t,e,n,r,s,i),n=Nl(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tt(t,e,i)):(G&&n&&_l(e),e.flags|=1,Se(t,e,r,i),e.child)}function Zu(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Vl(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Dh(t,e,s,r,i)):(t=ss(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xr,n(o,r)&&t.ref===e.ref)return Tt(t,e,i)}return e.flags|=1,t=Kt(s,r),t.ref=e.ref,t.return=e,e.child=t}function Dh(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Xr(s,r)&&t.ref===e.ref)if(je=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(je=!0);else return e.lanes=t.lanes,Tt(t,e,i)}return Ta(t,e,n,r,i)}function Mh(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(Vn,Ae),Ae|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,H(Vn,Ae),Ae|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,H(Vn,Ae),Ae|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,H(Vn,Ae),Ae|=r;return Se(t,e,i,n),e.child}function Bh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ta(t,e,n,r,i){var s=Pe(n)?vn:we.current;return s=Xn(e,s),Gn(e,i),n=Il(t,e,n,r,s,i),r=Nl(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tt(t,e,i)):(G&&r&&_l(e),e.flags|=1,Se(t,e,n,i),e.child)}function ec(t,e,n,r,i){if(Pe(n)){var s=!0;vs(e)}else s=!1;if(Gn(e,i),e.stateNode===null)ns(t,e),$h(e,n,r),xa(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ke(u):(u=Pe(n)?vn:we.current,u=Xn(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Gu(e,o,r,u),Nt=!1;var f=e.memoizedState;o.state=f,Ss(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Oe.current||Nt?(typeof c=="function"&&(Ea(e,n,c,r),l=e.memoizedState),(a=Nt||Ku(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ph(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:tt(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ke(l):(l=Pe(n)?vn:we.current,l=Xn(e,l));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Gu(e,o,r,l),Nt=!1,f=e.memoizedState,o.state=f,Ss(e,r,o,i);var w=e.memoizedState;a!==d||f!==w||Oe.current||Nt?(typeof v=="function"&&(Ea(e,n,v,r),w=e.memoizedState),(u=Nt||Ku(e,n,u,r,f,w,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ca(t,e,n,r,s,i)}function Ca(t,e,n,r,i,s){Bh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Mu(e,n,!1),Tt(t,e,s);r=e.stateNode,Dv.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=er(e,t.child,null,s),e.child=er(e,null,a,s)):Se(t,e,a,s),e.memoizedState=r.state,i&&Mu(e,n,!0),e.child}function zh(t){var e=t.stateNode;e.pendingContext?Du(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Du(t,e.context,!1),jl(t,e.containerInfo)}function tc(t,e,n,r,i){return Zn(),kl(i),e.flags|=256,Se(t,e,n,r),e.child}var ja={dehydrated:null,treeContext:null,retryLane:0};function Oa(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fh(t,e,n){var r=e.pendingProps,i=Q.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),H(Q,i&1),t===null)return Sa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=qs(o,r,0,null),t=pn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Oa(n),e.memoizedState=ja,t):Ll(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Mv(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Kt(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Kt(a,s):(s=pn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Oa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ja,r}return s=t.child,t=s.sibling,r=Kt(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ll(t,e){return e=qs({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $i(t,e,n,r){return r!==null&&kl(r),er(e,t.child,null,n),t=Ll(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Mv(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Io(Error(T(422))),$i(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=qs({mode:"visible",children:r.children},i,0,null),s=pn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&er(e,t.child,null,o),e.child.memoizedState=Oa(o),e.memoizedState=ja,s);if(!(e.mode&1))return $i(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(T(419)),r=Io(s,r,void 0),$i(t,e,o,r)}if(a=(o&t.childLanes)!==0,je||a){if(r=he,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,bt(t,i),at(r,t,i,-1))}return Fl(),r=Io(Error(T(421))),$i(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Xv.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ue=Vt(i.nextSibling),De=e,G=!0,st=null,t!==null&&(Ve[We++]=_t,Ve[We++]=St,Ve[We++]=mn,_t=t.id,St=t.overflow,mn=e),e=Ll(e,r.children),e.flags|=4096,e)}function nc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ka(t.return,e,n)}function No(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Vh(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Se(t,e,r.children,n),r=Q.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nc(t,n,e);else if(t.tag===19)nc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(H(Q,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ks(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),No(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ks(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}No(e,!0,n,null,s);break;case"together":No(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ns(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=Kt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Bv(t,e,n){switch(e.tag){case 3:zh(e),Zn();break;case 5:gh(e);break;case 1:Pe(e.type)&&vs(e);break;case 4:jl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;H(ws,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(H(Q,Q.current&1),e.flags|=128,null):n&e.child.childLanes?Fh(t,e,n):(H(Q,Q.current&1),t=Tt(t,e,n),t!==null?t.sibling:null);H(Q,Q.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Vh(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),H(Q,Q.current),r)break;return null;case 22:case 23:return e.lanes=0,Mh(t,e,n)}return Tt(t,e,n)}var Wh,Pa,Hh,qh;Wh=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pa=function(){};Hh=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,dn(pt.current);var s=null;switch(n){case"input":i=Xo(t,i),r=Xo(t,r),s=[];break;case"select":i=X({},i,{value:void 0}),r=X({},r,{value:void 0}),s=[];break;case"textarea":i=ta(t,i),r=ta(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ps)}ra(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hr.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&q("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};qh=function(t,e,n,r){n!==r&&(e.flags|=4)};function br(t,e){if(!G)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function me(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zv(t,e,n){var r=e.pendingProps;switch(Sl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(e),null;case 1:return Pe(e.type)&&gs(),me(e),null;case 3:return r=e.stateNode,tr(),K(Oe),K(we),Pl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ni(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,st!==null&&(Da(st),st=null))),Pa(t,e),me(e),null;case 5:Ol(e);var i=dn(ri.current);if(n=e.type,t!==null&&e.stateNode!=null)Hh(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(T(166));return me(e),null}if(t=dn(pt.current),Ni(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ht]=e,r[ti]=s,t=(e.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)q(Pr[i],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":du(r,s),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},q("invalid",r);break;case"textarea":fu(r,s),q("invalid",r)}ra(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ii(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ii(r.textContent,a,t),i=["children",""+a]):Hr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":xi(r),hu(r,s,!0);break;case"textarea":xi(r),pu(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ps)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_d(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ht]=e,t[ti]=r,Wh(t,e,!1,!1),e.stateNode=t;e:{switch(o=ia(n,r),n){case"dialog":q("cancel",t),q("close",t),i=r;break;case"iframe":case"object":case"embed":q("load",t),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)q(Pr[i],t);i=r;break;case"source":q("error",t),i=r;break;case"img":case"image":case"link":q("error",t),q("load",t),i=r;break;case"details":q("toggle",t),i=r;break;case"input":du(t,r),i=Xo(t,r),q("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=X({},r,{value:void 0}),q("invalid",t);break;case"textarea":fu(t,r),i=ta(t,r),q("invalid",t);break;default:i=r}ra(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ed(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Sd(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qr(t,l):typeof l=="number"&&qr(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hr.hasOwnProperty(s)?l!=null&&s==="onScroll"&&q("scroll",t):l!=null&&ol(t,s,l,o))}switch(n){case"input":xi(t),hu(t,r,!1);break;case"textarea":xi(t),pu(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gt(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Wn(t,!!r.multiple,s,!1):r.defaultValue!=null&&Wn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ps)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return me(e),null;case 6:if(t&&e.stateNode!=null)qh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(T(166));if(n=dn(ri.current),dn(pt.current),Ni(e)){if(r=e.stateNode,n=e.memoizedProps,r[ht]=e,(s=r.nodeValue!==n)&&(t=De,t!==null))switch(t.tag){case 3:Ii(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ii(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ht]=e,e.stateNode=r}return me(e),null;case 13:if(K(Q),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(G&&Ue!==null&&e.mode&1&&!(e.flags&128))ch(),Zn(),e.flags|=98560,s=!1;else if(s=Ni(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(T(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(T(317));s[ht]=e}else Zn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;me(e),s=!1}else st!==null&&(Da(st),st=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Q.current&1?ae===0&&(ae=3):Fl())),e.updateQueue!==null&&(e.flags|=4),me(e),null);case 4:return tr(),Pa(t,e),t===null&&Zr(e.stateNode.containerInfo),me(e),null;case 10:return bl(e.type._context),me(e),null;case 17:return Pe(e.type)&&gs(),me(e),null;case 19:if(K(Q),s=e.memoizedState,s===null)return me(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)br(s,!1);else{if(ae!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ks(t),o!==null){for(e.flags|=128,br(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return H(Q,Q.current&1|2),e.child}t=t.sibling}s.tail!==null&&ee()>rr&&(e.flags|=128,r=!0,br(s,!1),e.lanes=4194304)}else{if(!r)if(t=ks(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),br(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!G)return me(e),null}else 2*ee()-s.renderingStartTime>rr&&n!==1073741824&&(e.flags|=128,r=!0,br(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ee(),e.sibling=null,n=Q.current,H(Q,r?n&1|2:n&1),e):(me(e),null);case 22:case 23:return zl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ae&1073741824&&(me(e),e.subtreeFlags&6&&(e.flags|=8192)):me(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function Fv(t,e){switch(Sl(e),e.tag){case 1:return Pe(e.type)&&gs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tr(),K(Oe),K(we),Pl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ol(e),null;case 13:if(K(Q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Zn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(Q),null;case 4:return tr(),null;case 10:return bl(e.type._context),null;case 22:case 23:return zl(),null;case 24:return null;default:return null}}var Li=!1,ye=!1,Vv=typeof WeakSet=="function"?WeakSet:Set,P=null;function Fn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Z(t,e,r)}else n.current=null}function Ra(t,e,n){try{n()}catch(r){Z(t,e,r)}}var rc=!1;function Wv(t,e){if(pa=ds,t=Yd(),wl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var v;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(v=d.firstChild)!==null;)f=d,d=v;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(v=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ga={focusedElem:t,selectionRange:n},ds=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,S=w.memoizedState,g=e.stateNode,h=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:tt(e.type,y),S);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(_){Z(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return w=rc,rc=!1,w}function Mr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ra(e,n,s)}i=i.next}while(i!==r)}}function Ws(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ia(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Kh(t){var e=t.alternate;e!==null&&(t.alternate=null,Kh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ht],delete e[ti],delete e[ya],delete e[Tv],delete e[Cv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Gh(t){return t.tag===5||t.tag===3||t.tag===4}function ic(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Na(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ps));else if(r!==4&&(t=t.child,t!==null))for(Na(t,e,n),t=t.sibling;t!==null;)Na(t,e,n),t=t.sibling}function Aa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Aa(t,e,n),t=t.sibling;t!==null;)Aa(t,e,n),t=t.sibling}var fe=null,rt=!1;function Ot(t,e,n){for(n=n.child;n!==null;)Jh(t,e,n),n=n.sibling}function Jh(t,e,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Ls,n)}catch{}switch(n.tag){case 5:ye||Fn(n,e);case 6:var r=fe,i=rt;fe=null,Ot(t,e,n),fe=r,rt=i,fe!==null&&(rt?(t=fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):fe.removeChild(n.stateNode));break;case 18:fe!==null&&(rt?(t=fe,n=n.stateNode,t.nodeType===8?To(t.parentNode,n):t.nodeType===1&&To(t,n),Qr(t)):To(fe,n.stateNode));break;case 4:r=fe,i=rt,fe=n.stateNode.containerInfo,rt=!0,Ot(t,e,n),fe=r,rt=i;break;case 0:case 11:case 14:case 15:if(!ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ra(n,e,o),i=i.next}while(i!==r)}Ot(t,e,n);break;case 1:if(!ye&&(Fn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Z(n,e,a)}Ot(t,e,n);break;case 21:Ot(t,e,n);break;case 22:n.mode&1?(ye=(r=ye)||n.memoizedState!==null,Ot(t,e,n),ye=r):Ot(t,e,n);break;default:Ot(t,e,n)}}function sc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Vv),e.forEach(function(r){var i=Zv.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ze(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:fe=a.stateNode,rt=!1;break e;case 3:fe=a.stateNode.containerInfo,rt=!0;break e;case 4:fe=a.stateNode.containerInfo,rt=!0;break e}a=a.return}if(fe===null)throw Error(T(160));Jh(s,o,i),fe=null,rt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Z(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Qh(e,t),e=e.sibling}function Qh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ze(e,t),ct(t),r&4){try{Mr(3,t,t.return),Ws(3,t)}catch(y){Z(t,t.return,y)}try{Mr(5,t,t.return)}catch(y){Z(t,t.return,y)}}break;case 1:Ze(e,t),ct(t),r&512&&n!==null&&Fn(n,n.return);break;case 5:if(Ze(e,t),ct(t),r&512&&n!==null&&Fn(n,n.return),t.flags&32){var i=t.stateNode;try{qr(i,"")}catch(y){Z(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&yd(i,s),ia(a,o);var u=ia(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Ed(i,d):c==="dangerouslySetInnerHTML"?Sd(i,d):c==="children"?qr(i,d):ol(i,c,d,u)}switch(a){case"input":Zo(i,s);break;case"textarea":wd(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Wn(i,!!s.multiple,v,!1):f!==!!s.multiple&&(s.defaultValue!=null?Wn(i,!!s.multiple,s.defaultValue,!0):Wn(i,!!s.multiple,s.multiple?[]:"",!1))}i[ti]=s}catch(y){Z(t,t.return,y)}}break;case 6:if(Ze(e,t),ct(t),r&4){if(t.stateNode===null)throw Error(T(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Z(t,t.return,y)}}break;case 3:if(Ze(e,t),ct(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qr(e.containerInfo)}catch(y){Z(t,t.return,y)}break;case 4:Ze(e,t),ct(t);break;case 13:Ze(e,t),ct(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ml=ee())),r&4&&sc(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ye=(u=ye)||c,Ze(e,t),ye=u):Ze(e,t),ct(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(P=t,c=t.child;c!==null;){for(d=P=c;P!==null;){switch(f=P,v=f.child,f.tag){case 0:case 11:case 14:case 15:Mr(4,f,f.return);break;case 1:Fn(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){Z(r,n,y)}}break;case 5:Fn(f,f.return);break;case 22:if(f.memoizedState!==null){ac(d);continue}}v!==null?(v.return=f,P=v):ac(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kd("display",o))}catch(y){Z(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Z(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ze(e,t),ct(t),r&4&&sc(t);break;case 21:break;default:Ze(e,t),ct(t)}}function ct(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Gh(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qr(i,""),r.flags&=-33);var s=ic(t);Aa(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ic(t);Na(t,a,o);break;default:throw Error(T(161))}}catch(l){Z(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Hv(t,e,n){P=t,Yh(t)}function Yh(t,e,n){for(var r=(t.mode&1)!==0;P!==null;){var i=P,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Li;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ye;a=Li;var u=ye;if(Li=o,(ye=l)&&!u)for(P=i;P!==null;)o=P,l=o.child,o.tag===22&&o.memoizedState!==null?lc(i):l!==null?(l.return=o,P=l):lc(i);for(;s!==null;)P=s,Yh(s),s=s.sibling;P=i,Li=a,ye=u}oc(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,P=s):oc(t)}}function oc(t){for(;P!==null;){var e=P;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ye||Ws(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ye)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:tt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Wu(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Wu(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Qr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}ye||e.flags&512&&Ia(e)}catch(f){Z(e,e.return,f)}}if(e===t){P=null;break}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}}function ac(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var n=e.sibling;if(n!==null){n.return=e.return,P=n;break}P=e.return}}function lc(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ws(4,e)}catch(l){Z(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Z(e,i,l)}}var s=e.return;try{Ia(e)}catch(l){Z(e,s,l)}break;case 5:var o=e.return;try{Ia(e)}catch(l){Z(e,o,l)}}}catch(l){Z(e,e.return,l)}if(e===t){P=null;break}var a=e.sibling;if(a!==null){a.return=e.return,P=a;break}P=e.return}}var qv=Math.ceil,bs=Ct.ReactCurrentDispatcher,Ul=Ct.ReactCurrentOwner,qe=Ct.ReactCurrentBatchConfig,z=0,he=null,ie=null,pe=0,Ae=0,Vn=Yt(0),ae=0,ai=null,wn=0,Hs=0,Dl=0,Br=null,Te=null,Ml=0,rr=1/0,mt=null,Ts=!1,$a=null,Ht=null,Ui=!1,Dt=null,Cs=0,zr=0,La=null,rs=-1,is=0;function ke(){return z&6?ee():rs!==-1?rs:rs=ee()}function qt(t){return t.mode&1?z&2&&pe!==0?pe&-pe:Ov.transition!==null?(is===0&&(is=$d()),is):(t=F,t!==0||(t=window.event,t=t===void 0?16:Fd(t.type)),t):1}function at(t,e,n,r){if(50<zr)throw zr=0,La=null,Error(T(185));pi(t,n,r),(!(z&2)||t!==he)&&(t===he&&(!(z&2)&&(Hs|=n),ae===4&&$t(t,pe)),Re(t,r),n===1&&z===0&&!(e.mode&1)&&(rr=ee()+500,zs&&Xt()))}function Re(t,e){var n=t.callbackNode;Og(t,e);var r=cs(t,t===he?pe:0);if(r===0)n!==null&&mu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mu(n),e===1)t.tag===0?jv(uc.bind(null,t)):ah(uc.bind(null,t)),xv(function(){!(z&6)&&Xt()}),n=null;else{switch(Ld(r)){case 1:n=dl;break;case 4:n=Nd;break;case 16:n=us;break;case 536870912:n=Ad;break;default:n=us}n=of(n,Xh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Xh(t,e){if(rs=-1,is=0,z&6)throw Error(T(327));var n=t.callbackNode;if(Jn()&&t.callbackNode!==n)return null;var r=cs(t,t===he?pe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=js(t,r);else{e=r;var i=z;z|=2;var s=ef();(he!==t||pe!==e)&&(mt=null,rr=ee()+500,fn(t,e));do try{Jv();break}catch(a){Zh(t,a)}while(!0);xl(),bs.current=s,z=i,ie!==null?e=0:(he=null,pe=0,e=ae)}if(e!==0){if(e===2&&(i=ua(t),i!==0&&(r=i,e=Ua(t,i))),e===1)throw n=ai,fn(t,0),$t(t,r),Re(t,ee()),n;if(e===6)$t(t,r);else{if(i=t.current.alternate,!(r&30)&&!Kv(i)&&(e=js(t,r),e===2&&(s=ua(t),s!==0&&(r=s,e=Ua(t,s))),e===1))throw n=ai,fn(t,0),$t(t,r),Re(t,ee()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(T(345));case 2:sn(t,Te,mt);break;case 3:if($t(t,r),(r&130023424)===r&&(e=Ml+500-ee(),10<e)){if(cs(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ke(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ma(sn.bind(null,t,Te,mt),e);break}sn(t,Te,mt);break;case 4:if($t(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ot(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qv(r/1960))-r,10<r){t.timeoutHandle=ma(sn.bind(null,t,Te,mt),r);break}sn(t,Te,mt);break;case 5:sn(t,Te,mt);break;default:throw Error(T(329))}}}return Re(t,ee()),t.callbackNode===n?Xh.bind(null,t):null}function Ua(t,e){var n=Br;return t.current.memoizedState.isDehydrated&&(fn(t,e).flags|=256),t=js(t,e),t!==2&&(e=Te,Te=n,e!==null&&Da(e)),t}function Da(t){Te===null?Te=t:Te.push.apply(Te,t)}function Kv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!lt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $t(t,e){for(e&=~Dl,e&=~Hs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ot(e),r=1<<n;t[n]=-1,e&=~r}}function uc(t){if(z&6)throw Error(T(327));Jn();var e=cs(t,0);if(!(e&1))return Re(t,ee()),null;var n=js(t,e);if(t.tag!==0&&n===2){var r=ua(t);r!==0&&(e=r,n=Ua(t,r))}if(n===1)throw n=ai,fn(t,0),$t(t,e),Re(t,ee()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,sn(t,Te,mt),Re(t,ee()),null}function Bl(t,e){var n=z;z|=1;try{return t(e)}finally{z=n,z===0&&(rr=ee()+500,zs&&Xt())}}function _n(t){Dt!==null&&Dt.tag===0&&!(z&6)&&Jn();var e=z;z|=1;var n=qe.transition,r=F;try{if(qe.transition=null,F=1,t)return t()}finally{F=r,qe.transition=n,z=e,!(z&6)&&Xt()}}function zl(){Ae=Vn.current,K(Vn)}function fn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ev(n)),ie!==null)for(n=ie.return;n!==null;){var r=n;switch(Sl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gs();break;case 3:tr(),K(Oe),K(we),Pl();break;case 5:Ol(r);break;case 4:tr();break;case 13:K(Q);break;case 19:K(Q);break;case 10:bl(r.type._context);break;case 22:case 23:zl()}n=n.return}if(he=t,ie=t=Kt(t.current,null),pe=Ae=e,ae=0,ai=null,Dl=Hs=wn=0,Te=Br=null,cn!==null){for(e=0;e<cn.length;e++)if(n=cn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}cn=null}return t}function Zh(t,e){do{var n=ie;try{if(xl(),es.current=xs,Es){for(var r=Y.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Es=!1}if(yn=0,de=oe=Y=null,Dr=!1,ii=0,Ul.current=null,n===null||n.return===null){ae=1,ai=e,ie=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=pe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=Qu(o);if(v!==null){v.flags&=-257,Yu(v,o,a,s,e),v.mode&1&&Ju(s,u,e),e=v,l=u;var w=e.updateQueue;if(w===null){var y=new Set;y.add(l),e.updateQueue=y}else w.add(l);break e}else{if(!(e&1)){Ju(s,u,e),Fl();break e}l=Error(T(426))}}else if(G&&a.mode&1){var S=Qu(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Yu(S,o,a,s,e),kl(nr(l,a));break e}}s=l=nr(l,a),ae!==4&&(ae=2),Br===null?Br=[s]:Br.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Lh(s,l,e);Vu(s,g);break e;case 1:a=l;var h=s.type,p=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ht===null||!Ht.has(p)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=Uh(s,a,e);Vu(s,_);break e}}s=s.return}while(s!==null)}nf(n)}catch(k){e=k,ie===n&&n!==null&&(ie=n=n.return);continue}break}while(!0)}function ef(){var t=bs.current;return bs.current=xs,t===null?xs:t}function Fl(){(ae===0||ae===3||ae===2)&&(ae=4),he===null||!(wn&268435455)&&!(Hs&268435455)||$t(he,pe)}function js(t,e){var n=z;z|=2;var r=ef();(he!==t||pe!==e)&&(mt=null,fn(t,e));do try{Gv();break}catch(i){Zh(t,i)}while(!0);if(xl(),z=n,bs.current=r,ie!==null)throw Error(T(261));return he=null,pe=0,ae}function Gv(){for(;ie!==null;)tf(ie)}function Jv(){for(;ie!==null&&!_g();)tf(ie)}function tf(t){var e=sf(t.alternate,t,Ae);t.memoizedProps=t.pendingProps,e===null?nf(t):ie=e,Ul.current=null}function nf(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Fv(n,e),n!==null){n.flags&=32767,ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ae=6,ie=null;return}}else if(n=zv(n,e,Ae),n!==null){ie=n;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);ae===0&&(ae=5)}function sn(t,e,n){var r=F,i=qe.transition;try{qe.transition=null,F=1,Qv(t,e,n,r)}finally{qe.transition=i,F=r}return null}function Qv(t,e,n,r){do Jn();while(Dt!==null);if(z&6)throw Error(T(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Pg(t,s),t===he&&(ie=he=null,pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ui||(Ui=!0,of(us,function(){return Jn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qe.transition,qe.transition=null;var o=F;F=1;var a=z;z|=4,Ul.current=null,Wv(t,n),Qh(n,t),vv(ga),ds=!!pa,ga=pa=null,t.current=n,Hv(n),Sg(),z=a,F=o,qe.transition=s}else t.current=n;if(Ui&&(Ui=!1,Dt=t,Cs=i),s=t.pendingLanes,s===0&&(Ht=null),xg(n.stateNode),Re(t,ee()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ts)throw Ts=!1,t=$a,$a=null,t;return Cs&1&&t.tag!==0&&Jn(),s=t.pendingLanes,s&1?t===La?zr++:(zr=0,La=t):zr=0,Xt(),null}function Jn(){if(Dt!==null){var t=Ld(Cs),e=qe.transition,n=F;try{if(qe.transition=null,F=16>t?16:t,Dt===null)var r=!1;else{if(t=Dt,Dt=null,Cs=0,z&6)throw Error(T(331));var i=z;for(z|=4,P=t.current;P!==null;){var s=P,o=s.child;if(P.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(P=u;P!==null;){var c=P;switch(c.tag){case 0:case 11:case 15:Mr(8,c,s)}var d=c.child;if(d!==null)d.return=c,P=d;else for(;P!==null;){c=P;var f=c.sibling,v=c.return;if(Kh(c),c===u){P=null;break}if(f!==null){f.return=v,P=f;break}P=v}}}var w=s.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}P=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,P=o;else e:for(;P!==null;){if(s=P,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mr(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,P=g;break e}P=s.return}}var h=t.current;for(P=h;P!==null;){o=P;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,P=p;else e:for(o=h;P!==null;){if(a=P,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ws(9,a)}}catch(k){Z(a,a.return,k)}if(a===o){P=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,P=_;break e}P=a.return}}if(z=i,Xt(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Ls,t)}catch{}r=!0}return r}finally{F=n,qe.transition=e}}return!1}function cc(t,e,n){e=nr(n,e),e=Lh(t,e,1),t=Wt(t,e,1),e=ke(),t!==null&&(pi(t,1,e),Re(t,e))}function Z(t,e,n){if(t.tag===3)cc(t,t,n);else for(;e!==null;){if(e.tag===3){cc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ht===null||!Ht.has(r))){t=nr(n,t),t=Uh(e,t,1),e=Wt(e,t,1),t=ke(),e!==null&&(pi(e,1,t),Re(e,t));break}}e=e.return}}function Yv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&n,he===t&&(pe&n)===n&&(ae===4||ae===3&&(pe&130023424)===pe&&500>ee()-Ml?fn(t,0):Dl|=n),Re(t,e)}function rf(t,e){e===0&&(t.mode&1?(e=Ci,Ci<<=1,!(Ci&130023424)&&(Ci=4194304)):e=1);var n=ke();t=bt(t,e),t!==null&&(pi(t,e,n),Re(t,n))}function Xv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rf(t,n)}function Zv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(e),rf(t,n)}var sf;sf=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Oe.current)je=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return je=!1,Bv(t,e,n);je=!!(t.flags&131072)}else je=!1,G&&e.flags&1048576&&lh(e,ys,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ns(t,e),t=e.pendingProps;var i=Xn(e,we.current);Gn(e,n),i=Il(null,e,r,t,i,n);var s=Nl();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pe(r)?(s=!0,vs(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cl(e),i.updater=Vs,e.stateNode=i,i._reactInternals=e,xa(e,r,t,n),e=Ca(null,e,r,!0,s,n)):(e.tag=0,G&&s&&_l(e),Se(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ns(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=tm(r),t=tt(r,t),i){case 0:e=Ta(null,e,r,t,n);break e;case 1:e=ec(null,e,r,t,n);break e;case 11:e=Xu(null,e,r,t,n);break e;case 14:e=Zu(null,e,r,tt(r.type,t),n);break e}throw Error(T(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tt(r,i),Ta(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tt(r,i),ec(t,e,r,i,n);case 3:e:{if(zh(e),t===null)throw Error(T(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ph(t,e),Ss(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=nr(Error(T(423)),e),e=tc(t,e,r,n,i);break e}else if(r!==i){i=nr(Error(T(424)),e),e=tc(t,e,r,n,i);break e}else for(Ue=Vt(e.stateNode.containerInfo.firstChild),De=e,G=!0,st=null,n=hh(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zn(),r===i){e=Tt(t,e,n);break e}Se(t,e,r,n)}e=e.child}return e;case 5:return gh(e),t===null&&Sa(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,va(r,i)?o=null:s!==null&&va(r,s)&&(e.flags|=32),Bh(t,e),Se(t,e,o,n),e.child;case 6:return t===null&&Sa(e),null;case 13:return Fh(t,e,n);case 4:return jl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=er(e,null,r,n):Se(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tt(r,i),Xu(t,e,r,i,n);case 7:return Se(t,e,e.pendingProps,n),e.child;case 8:return Se(t,e,e.pendingProps.children,n),e.child;case 12:return Se(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,H(ws,r._currentValue),r._currentValue=o,s!==null)if(lt(s.value,o)){if(s.children===i.children&&!Oe.current){e=Tt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=kt(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ka(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ka(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Se(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Gn(e,n),i=Ke(i),r=r(i),e.flags|=1,Se(t,e,r,n),e.child;case 14:return r=e.type,i=tt(r,e.pendingProps),i=tt(r.type,i),Zu(t,e,r,i,n);case 15:return Dh(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tt(r,i),ns(t,e),e.tag=1,Pe(r)?(t=!0,vs(e)):t=!1,Gn(e,n),$h(e,r,i),xa(e,r,i,n),Ca(null,e,r,!0,t,n);case 19:return Vh(t,e,n);case 22:return Mh(t,e,n)}throw Error(T(156,e.tag))};function of(t,e){return Id(t,e)}function em(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(t,e,n,r){return new em(t,e,n,r)}function Vl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tm(t){if(typeof t=="function")return Vl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ll)return 11;if(t===ul)return 14}return 2}function Kt(t,e){var n=t.alternate;return n===null?(n=He(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ss(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Vl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Nn:return pn(n.children,i,s,e);case al:o=8,i|=8;break;case Go:return t=He(12,n,e,i|2),t.elementType=Go,t.lanes=s,t;case Jo:return t=He(13,n,e,i),t.elementType=Jo,t.lanes=s,t;case Qo:return t=He(19,n,e,i),t.elementType=Qo,t.lanes=s,t;case gd:return qs(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fd:o=10;break e;case pd:o=9;break e;case ll:o=11;break e;case ul:o=14;break e;case It:o=16,r=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=He(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function pn(t,e,n,r){return t=He(7,t,r,e),t.lanes=n,t}function qs(t,e,n,r){return t=He(22,t,r,e),t.elementType=gd,t.lanes=n,t.stateNode={isHidden:!1},t}function Ao(t,e,n){return t=He(6,t,null,e),t.lanes=n,t}function $o(t,e,n){return e=He(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nm(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=go(0),this.expirationTimes=go(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=go(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wl(t,e,n,r,i,s,o,a,l){return t=new nm(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=He(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cl(s),t}function rm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:In,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function af(t){if(!t)return Jt;t=t._reactInternals;e:{if(kn(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(Pe(n))return oh(t,n,e)}return e}function lf(t,e,n,r,i,s,o,a,l){return t=Wl(n,r,!0,t,i,s,o,a,l),t.context=af(null),n=t.current,r=ke(),i=qt(n),s=kt(r,i),s.callback=e??null,Wt(n,s,i),t.current.lanes=i,pi(t,i,r),Re(t,r),t}function Ks(t,e,n,r){var i=e.current,s=ke(),o=qt(i);return n=af(n),e.context===null?e.context=n:e.pendingContext=n,e=kt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wt(i,e,o),t!==null&&(at(t,i,o,s),Zi(t,i,o)),o}function Os(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hl(t,e){dc(t,e),(t=t.alternate)&&dc(t,e)}function im(){return null}var uf=typeof reportError=="function"?reportError:function(t){console.error(t)};function ql(t){this._internalRoot=t}Gs.prototype.render=ql.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));Ks(t,e,null,null)};Gs.prototype.unmount=ql.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_n(function(){Ks(null,t,null,null)}),e[xt]=null}};function Gs(t){this._internalRoot=t}Gs.prototype.unstable_scheduleHydration=function(t){if(t){var e=Md();t={blockedOn:null,target:t,priority:e};for(var n=0;n<At.length&&e!==0&&e<At[n].priority;n++);At.splice(n,0,t),n===0&&zd(t)}};function Kl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Js(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hc(){}function sm(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Os(o);s.call(u)}}var o=lf(e,r,t,0,null,!1,!1,"",hc);return t._reactRootContainer=o,t[xt]=o.current,Zr(t.nodeType===8?t.parentNode:t),_n(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Os(l);a.call(u)}}var l=Wl(t,0,!1,null,null,!1,!1,"",hc);return t._reactRootContainer=l,t[xt]=l.current,Zr(t.nodeType===8?t.parentNode:t),_n(function(){Ks(e,l,n,r)}),l}function Qs(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Os(o);a.call(l)}}Ks(e,o,t,i)}else o=sm(n,e,t,i,r);return Os(o)}Ud=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Or(e.pendingLanes);n!==0&&(hl(e,n|1),Re(e,ee()),!(z&6)&&(rr=ee()+500,Xt()))}break;case 13:_n(function(){var r=bt(t,1);if(r!==null){var i=ke();at(r,t,1,i)}}),Hl(t,1)}};fl=function(t){if(t.tag===13){var e=bt(t,134217728);if(e!==null){var n=ke();at(e,t,134217728,n)}Hl(t,134217728)}};Dd=function(t){if(t.tag===13){var e=qt(t),n=bt(t,e);if(n!==null){var r=ke();at(n,t,e,r)}Hl(t,e)}};Md=function(){return F};Bd=function(t,e){var n=F;try{return F=t,e()}finally{F=n}};oa=function(t,e,n){switch(e){case"input":if(Zo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bs(r);if(!i)throw Error(T(90));md(r),Zo(r,i)}}}break;case"textarea":wd(t,n);break;case"select":e=n.value,e!=null&&Wn(t,!!n.multiple,e,!1)}};Td=Bl;Cd=_n;var om={usingClientEntryPoint:!1,Events:[vi,Un,Bs,xd,bd,Bl]},Tr={findFiberByHostInstance:un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},am={bundleType:Tr.bundleType,version:Tr.version,rendererPackageName:Tr.rendererPackageName,rendererConfig:Tr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pd(t),t===null?null:t.stateNode},findFiberByHostInstance:Tr.findFiberByHostInstance||im,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Di=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Di.isDisabled&&Di.supportsFiber)try{Ls=Di.inject(am),ft=Di}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=om;Be.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kl(e))throw Error(T(200));return rm(t,e,null,n)};Be.createRoot=function(t,e){if(!Kl(t))throw Error(T(299));var n=!1,r="",i=uf;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wl(t,1,!1,null,null,n,!1,r,i),t[xt]=e.current,Zr(t.nodeType===8?t.parentNode:t),new ql(e)};Be.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=Pd(e),t=t===null?null:t.stateNode,t};Be.flushSync=function(t){return _n(t)};Be.hydrate=function(t,e,n){if(!Js(e))throw Error(T(200));return Qs(null,t,e,!0,n)};Be.hydrateRoot=function(t,e,n){if(!Kl(t))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=uf;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=lf(e,null,t,1,n??null,i,!1,s,o),t[xt]=e.current,Zr(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gs(e)};Be.render=function(t,e,n){if(!Js(e))throw Error(T(200));return Qs(null,t,e,!1,n)};Be.unmountComponentAtNode=function(t){if(!Js(t))throw Error(T(40));return t._reactRootContainer?(_n(function(){Qs(null,null,t,!1,function(){t._reactRootContainer=null,t[xt]=null})}),!0):!1};Be.unstable_batchedUpdates=Bl;Be.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Js(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return Qs(t,e,n,!1,r)};Be.version="18.3.1-next-f1338f8080-20240426";function cf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cf)}catch(t){console.error(t)}}cf(),ud.exports=Be;var lm=ud.exports,fc=lm;qo.createRoot=fc.createRoot,qo.hydrateRoot=fc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function li(){return li=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},li.apply(this,arguments)}var Mt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mt||(Mt={}));const pc="popstate";function um(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ma("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:hf(i)}return dm(e,n,null,t)}function le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function df(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cm(){return Math.random().toString(36).substr(2,8)}function gc(t,e){return{usr:t.state,key:t.key,idx:e}}function Ma(t,e,n,r){return n===void 0&&(n=null),li({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ur(e):e,{state:n,key:e&&e.key||r||cm()})}function hf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ur(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function dm(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Mt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(li({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Mt.Pop;let S=c(),g=S==null?null:S-u;u=S,l&&l({action:a,location:y.location,delta:g})}function f(S,g){a=Mt.Push;let h=Ma(y.location,S,g);u=c()+1;let p=gc(h,u),_=y.createHref(h);try{o.pushState(p,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(_)}s&&l&&l({action:a,location:y.location,delta:1})}function v(S,g){a=Mt.Replace;let h=Ma(y.location,S,g);u=c();let p=gc(h,u),_=y.createHref(h);o.replaceState(p,"",_),s&&l&&l({action:a,location:y.location,delta:0})}function w(S){let g=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof S=="string"?S:hf(S);return h=h.replace(/ $/,"%20"),le(g,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,g)}let y={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(pc,d),l=S,()=>{i.removeEventListener(pc,d),l=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let g=w(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:v,go(S){return o.go(S)}};return y}var vc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vc||(vc={}));function hm(t,e,n){return n===void 0&&(n="/"),fm(t,e,n)}function fm(t,e,n,r){let i=typeof e=="string"?ur(e):e,s=gf(i.pathname||"/",n);if(s==null)return null;let o=ff(t);pm(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Tm(s);a=Em(o[l],u)}return a}function ff(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(le(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=gn([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ff(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Sm(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of pf(s.path))i(s,o,l)}),e}function pf(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=pf(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function pm(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:km(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gm=/^:[\w-]+$/,vm=3,mm=2,ym=1,wm=10,_m=-2,mc=t=>t==="*";function Sm(t,e){let n=t.split("/"),r=n.length;return n.some(mc)&&(r+=_m),e&&(r+=mm),n.filter(i=>!mc(i)).reduce((i,s)=>i+(gm.test(s)?vm:s===""?ym:wm),r)}function km(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Em(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=xm({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:gn([s,d.pathname]),pathnameBase:Im(gn([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=gn([s,d.pathnameBase]))}return o}function xm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bm(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:v}=c;if(f==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[d];return v&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function bm(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),df(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Tm(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return df(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Cm(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ur(t):t;return{pathname:n?n.startsWith("/")?n:jm(n,e):e,search:Nm(r),hash:Am(i)}}function jm(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Lo(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Om(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pm(t,e){let n=Om(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Rm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ur(t):(i=li({},t),le(!i.pathname||!i.pathname.includes("?"),Lo("?","pathname","search",i)),le(!i.pathname||!i.pathname.includes("#"),Lo("#","pathname","hash",i)),le(!i.search||!i.search.includes("#"),Lo("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=Cm(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const gn=t=>t.join("/").replace(/\/\/+/g,"/"),Im=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Nm=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Am=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $m(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const vf=["post","put","patch","delete"];new Set(vf);const Lm=["get",...vf];new Set(Lm);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ui(){return ui=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ui.apply(this,arguments)}const Gl=x.createContext(null),Um=x.createContext(null),Ys=x.createContext(null),Xs=x.createContext(null),cr=x.createContext({outlet:null,matches:[],isDataRoute:!1}),mf=x.createContext(null);function Zs(){return x.useContext(Xs)!=null}function yf(){return Zs()||le(!1),x.useContext(Xs).location}function wf(t){x.useContext(Ys).static||x.useLayoutEffect(t)}function eo(){let{isDataRoute:t}=x.useContext(cr);return t?Qm():Dm()}function Dm(){Zs()||le(!1);let t=x.useContext(Gl),{basename:e,future:n,navigator:r}=x.useContext(Ys),{matches:i}=x.useContext(cr),{pathname:s}=yf(),o=JSON.stringify(Pm(i,n.v7_relativeSplatPath)),a=x.useRef(!1);return wf(()=>{a.current=!0}),x.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Rm(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:gn([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function Mm(t,e){return Bm(t,e)}function Bm(t,e,n,r){Zs()||le(!1);let{navigator:i}=x.useContext(Ys),{matches:s}=x.useContext(cr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=yf(),c;if(e){var d;let S=typeof e=="string"?ur(e):e;l==="/"||(d=S.pathname)!=null&&d.startsWith(l)||le(!1),c=S}else c=u;let f=c.pathname||"/",v=f;if(l!=="/"){let S=l.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=hm(t,{pathname:v}),y=Hm(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:gn([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:gn([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&y?x.createElement(Xs.Provider,{value:{location:ui({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Mt.Pop}},y):y}function zm(){let t=Jm(),e=$m(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,null)}const Fm=x.createElement(zm,null);class Vm extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(cr.Provider,{value:this.props.routeContext},x.createElement(mf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wm(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(Gl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(cr.Provider,{value:e},r)}function Hm(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||le(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:v}=n,w=d.route.loader&&f[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||w){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let v,w=!1,y=null,S=null;n&&(v=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||Fm,l&&(u<0&&f===0?(Ym("route-fallback"),w=!0,S=null):u===f&&(w=!0,S=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),h=()=>{let p;return v?p=y:w?p=S:d.route.Component?p=x.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=c,x.createElement(Wm,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:p})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?x.createElement(Vm,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:h(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):h()},null)}var _f=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_f||{}),Sf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Sf||{});function qm(t){let e=x.useContext(Gl);return e||le(!1),e}function Km(t){let e=x.useContext(Um);return e||le(!1),e}function Gm(t){let e=x.useContext(cr);return e||le(!1),e}function kf(t){let e=Gm(),n=e.matches[e.matches.length-1];return n.route.id||le(!1),n.route.id}function Jm(){var t;let e=x.useContext(mf),n=Km(),r=kf();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Qm(){let{router:t}=qm(_f.UseNavigateStable),e=kf(Sf.UseNavigateStable),n=x.useRef(!1);return wf(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ui({fromRouteId:e},s)))},[t,e])}const yc={};function Ym(t,e,n){yc[t]||(yc[t]=!0)}function Xm(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Rr(t){le(!1)}function Zm(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Mt.Pop,navigator:s,static:o=!1,future:a}=t;Zs()&&le(!1);let l=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:s,static:o,future:ui({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ur(r));let{pathname:c="/",search:d="",hash:f="",state:v=null,key:w="default"}=r,y=x.useMemo(()=>{let S=gf(c,l);return S==null?null:{location:{pathname:S,search:d,hash:f,state:v,key:w},navigationType:i}},[l,c,d,f,v,w,i]);return y==null?null:x.createElement(Ys.Provider,{value:u},x.createElement(Xs.Provider,{children:n,value:y}))}function ey(t){let{children:e,location:n}=t;return Mm(Ba(e),n)}new Promise(()=>{});function Ba(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){n.push.apply(n,Ba(r.props.children,s));return}r.type!==Rr&&le(!1),!r.props.index||!r.props.children||le(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ba(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ty="6";try{window.__reactRouterVersion=ty}catch{}const ny="startTransition",wc=Yp[ny];function ry(t){let{basename:e,children:n,future:r,window:i}=t,s=x.useRef();s.current==null&&(s.current=um({window:i,v5Compat:!0}));let o=s.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=x.useCallback(d=>{u&&wc?wc(()=>l(d)):l(d)},[l,u]);return x.useLayoutEffect(()=>o.listen(c),[o,c]),x.useEffect(()=>Xm(r),[r]),x.createElement(Zm,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var _c;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_c||(_c={}));var Sc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Sc||(Sc={}));const Ef=x.createContext(void 0),iy=({children:t})=>{const[e,n]=x.useState(""),[r,i]=x.useState(""),[s,o]=x.useState([]),[a,l]=x.useState([]),[u,c]=x.useState(void 0),d=x.useMemo(()=>{const _=new Date(e).getTime(),k=new Date(r).getTime();return!_||!k||k<=_?0:(k-_)/36e5},[e,r]),f=x.useMemo(()=>{const _=s.reduce((E,b)=>E+b.unitPriceHourly*d,0),k=a.reduce((E,b)=>E+b.unitPrice*b.quantity,0);return Math.round(_+k)},[s,a,d]),p={checkin:e,checkout:r,spaces:s,services:a,customer:u,setCheckin:n,setCheckout:i,addSpace:_=>{o(k=>k.find(E=>E.spaceId===_.spaceId)?k:[...k,_])},removeSpace:_=>{o(k=>k.filter(E=>E.spaceId!==_))},addService:(_,k)=>{l(E=>E.find(C=>C.serviceId===_.serviceId)?E.map(C=>C.serviceId===_.serviceId?{...C,quantity:C.quantity+k}:C):[...E,{..._,quantity:k}])},setServiceQuantity:(_,k)=>{l(E=>E.map(b=>b.serviceId===_?{...b,quantity:k}:b))},removeService:_=>{l(k=>k.filter(E=>E.serviceId!==_))},setCustomer:c,clear:()=>{n(""),i(""),o([]),l([]),c(void 0)},totalAmount:f,estimatedHours:d};return m.jsx(Ef.Provider,{value:p,children:t})},Jl=()=>{const t=x.useContext(Ef);if(!t)throw new Error("useBooking must be used within BookingProvider");return t};function to({children:t,bottom:e}){return m.jsxs("div",{className:"container",style:{paddingBottom:e?88:16},children:[t,e&&m.jsx("div",{className:"bottom-bar",children:e})]})}function sy(){const t=eo(),[e,n]=x.useState(!1),r=x.useRef(null),i=x.useRef(null),s=x.useRef(null),o=x.useRef(null),a=u=>{var c;n(!1),(c=u.current)==null||c.scrollIntoView({behavior:"smooth",block:"start"})},l=m.jsxs("div",{style:{display:"flex",gap:12},children:[m.jsx("button",{className:"btn secondary",style:{flex:1},onClick:()=>n(!0),children:"Thng tin"}),m.jsx("button",{className:"btn",style:{flex:1},onClick:()=>t("/book"),children:"t lch ngay"})]});return m.jsxs(to,{bottom:l,children:[m.jsx("h1",{className:"title",children:"UPGEN Coworking"}),m.jsx("p",{className:"subtitle",children:"Khng gian lm vic chung hin i, linh hot, ti u chi ph."}),m.jsxs("div",{ref:r,className:"section",children:[m.jsx("h3",{style:{marginTop:0},children:"Ti sao chn chng ti?"}),m.jsxs("ul",{style:{paddingLeft:16,margin:0},children:[m.jsx("li",{children:"V tr trung tm, tin di chuyn"}),m.jsx("li",{children:"Khng gian yn tnh, y  tin nghi"}),m.jsx("li",{children:"H tr linh hot theo gi/ngy"})]})]}),m.jsxs("div",{ref:i,className:"section",children:[m.jsx("h3",{style:{marginTop:0},children:"Khng gian"}),m.jsx("p",{children:"Open Desk, Private Office, Meeting Room, Event Space..."})]}),m.jsxs("div",{ref:s,className:"section",children:[m.jsx("h3",{style:{marginTop:0},children:"Dch v"}),m.jsx("p",{children:"Coffee/Tea, In/Out Printing, Locker, Projector..."})]}),m.jsxs("div",{ref:o,className:"section",children:[m.jsx("h3",{style:{marginTop:0},children:"Cu hi thng gp"}),m.jsx("p",{children:"Gi m ca, chnh sch hy, thanh ton..."})]}),e&&m.jsxs("div",{className:"sheet",style:{padding:16},children:[m.jsx("h3",{style:{marginTop:4},children:"Danh mc"}),m.jsx("div",{className:"list-item",onClick:()=>a(r),children:m.jsx("span",{children:"Gii thiu"})}),m.jsx("div",{className:"list-item",onClick:()=>a(i),children:m.jsx("span",{children:"Khng gian"})}),m.jsx("div",{className:"list-item",onClick:()=>a(s),children:m.jsx("span",{children:"Dch v"})}),m.jsx("div",{className:"list-item",onClick:()=>a(o),children:m.jsx("span",{children:"FAQ"})}),m.jsx("button",{className:"btn full",style:{marginTop:12},onClick:()=>n(!1),children:"ng"})]})]})}var za=function(t,e){return za=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},za(t,e)};function xf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");za(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ps=function(){return Ps=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ps.apply(this,arguments)};function dr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bf(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Tf(t,e){return function(n,r){e(n,r,t)}}function Cf(t,e,n,r,i,s){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d,f=!1,v=n.length-1;v>=0;v--){var w={};for(var y in r)w[y]=y==="access"?{}:r[y];for(var y in r.access)w.access[y]=r.access[y];w.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(g||null))};var S=(0,n[v])(a==="accessor"?{get:c.get,set:c.set}:c[l],w);if(a==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(d=o(S.get))&&(c.get=d),(d=o(S.set))&&(c.set=d),(d=o(S.init))&&i.unshift(d)}else(d=o(S))&&(a==="field"?i.unshift(d):c[l]=d)}u&&Object.defineProperty(u,r.name,c),f=!0}function jf(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function Of(t){return typeof t=="symbol"?t:"".concat(t)}function Pf(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Rf(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function R(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function If(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var no=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function Nf(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&no(e,t,n)}function Rs(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ql(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Af(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ql(arguments[e]));return t}function $f(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function Lf(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function ir(t){return this instanceof ir?(this.v=t,this):new ir(t)}function Uf(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(w){return Promise.resolve(w).then(v,d)}}function a(v,w){r[v]&&(i[v]=function(y){return new Promise(function(S,g){s.push([v,y,S,g])>1||l(v,y)})},w&&(i[v]=w(i[v])))}function l(v,w){try{u(r[v](w))}catch(y){f(s[0][3],y)}}function u(v){v.value instanceof ir?Promise.resolve(v.value.v).then(c,d):f(s[0][2],v)}function c(v){l("next",v)}function d(v){l("throw",v)}function f(v,w){v(w),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Df(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:ir(t[i](o)),done:!1}:s?s(o):o}:s}}function Mf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Rs=="function"?Rs(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function Bf(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var oy=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Fa=function(t){return Fa=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Fa(t)};function zf(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Fa(t),r=0;r<n.length;r++)n[r]!=="default"&&no(e,t,n[r]);return oy(e,t),e}function Ff(t){return t&&t.__esModule?t:{default:t}}function Vf(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Wf(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function Hf(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function qf(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var ay=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function Kf(t){function e(s){t.error=t.hasError?new ay(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function Gf(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,o){return r?e?".jsx":".js":i&&(!s||!o)?n:i+s+"."+o.toLowerCase()+"js"}):t}const ly={__extends:xf,__assign:Ps,__rest:dr,__decorate:bf,__param:Tf,__esDecorate:Cf,__runInitializers:jf,__propKey:Of,__setFunctionName:Pf,__metadata:Rf,__awaiter:R,__generator:If,__createBinding:no,__exportStar:Nf,__values:Rs,__read:Ql,__spread:Af,__spreadArrays:$f,__spreadArray:Lf,__await:ir,__asyncGenerator:Uf,__asyncDelegator:Df,__asyncValues:Mf,__makeTemplateObject:Bf,__importStar:zf,__importDefault:Ff,__classPrivateFieldGet:Vf,__classPrivateFieldSet:Wf,__classPrivateFieldIn:Hf,__addDisposableResource:qf,__disposeResources:Kf,__rewriteRelativeImportExtension:Gf},uy=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:qf,get __assign(){return Ps},__asyncDelegator:Df,__asyncGenerator:Uf,__asyncValues:Mf,__await:ir,__awaiter:R,__classPrivateFieldGet:Vf,__classPrivateFieldIn:Hf,__classPrivateFieldSet:Wf,__createBinding:no,__decorate:bf,__disposeResources:Kf,__esDecorate:Cf,__exportStar:Nf,__extends:xf,__generator:If,__importDefault:Ff,__importStar:zf,__makeTemplateObject:Bf,__metadata:Rf,__param:Tf,__propKey:Of,__read:Ql,__rest:dr,__rewriteRelativeImportExtension:Gf,__runInitializers:jf,__setFunctionName:Pf,__spread:Af,__spreadArray:Lf,__spreadArrays:$f,__values:Rs,default:ly},Symbol.toStringTag,{value:"Module"})),cy="modulepreload",dy=function(t){return"/"+t},kc={},hr=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=dy(l),l in kc)return;kc[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":cy,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,v)=>{d.addEventListener("load",f),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},hy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>hr(async()=>{const{default:r}=await Promise.resolve().then(()=>En);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Yl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Ec extends Yl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class xc extends Yl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class bc extends Yl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Va;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Va||(Va={}));class fy{constructor(e,{headers:n={},customFetch:r,region:i=Va.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=hy(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return R(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:s,method:o,body:a,signal:l}=r;let u={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${n}`);c&&c!=="any"&&(u["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let f;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(u["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(u["Content-Type"]="application/json",f=JSON.stringify(a)):f=a;const v=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:f,signal:l}).catch(g=>{throw g.name==="AbortError"?g:new Ec(g)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new xc(v);if(!v.ok)throw new bc(v);let y=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return y==="application/json"?S=yield v.json():y==="application/octet-stream"||y==="application/pdf"?S=yield v.blob():y==="text/event-stream"?S=v:y==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null,response:v}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new Ec(s)}:{data:null,error:s,response:s instanceof bc||s instanceof xc?s.context:void 0}}})}}var Ce={};const fr=Qc(uy);var Mi={},Bi={},zi={},Fi={},Vi={},py=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sr=py();const gy=sr.fetch,Jf=sr.fetch.bind(sr),Qf=sr.Headers,vy=sr.Request,my=sr.Response,En=Object.freeze(Object.defineProperty({__proto__:null,Headers:Qf,Request:vy,Response:my,default:Jf,fetch:gy},Symbol.toStringTag,{value:"Module"})),yy=Qc(En);var Wi={},Tc;function Yf(){if(Tc)return Wi;Tc=1,Object.defineProperty(Wi,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Wi.default=t,Wi}var Cc;function Xf(){if(Cc)return Vi;Cc=1,Object.defineProperty(Vi,"__esModule",{value:!0});const t=fr,e=t.__importDefault(yy),n=t.__importDefault(Yf());class r{constructor(s){var o,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,f,v;let w=null,y=null,S=null,g=u.status,h=u.statusText;if(u.ok){if(this.method!=="HEAD"){const E=await u.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?y=E:y=JSON.parse(E))}const _=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),k=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&k&&k.length>1&&(S=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(w={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,S=null,g=406,h="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await u.text();try{w=JSON.parse(_),Array.isArray(w)&&u.status===404&&(y=[],w=null,g=200,h="OK")}catch{u.status===404&&_===""?(g=204,h="No Content"):w={message:_}}if(w&&this.isMaybeSingle&&(!((v=w==null?void 0:w.details)===null||v===void 0)&&v.includes("0 rows"))&&(w=null,g=200,h="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:y,count:S,status:g,statusText:h}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,f;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,o)}returns(){return this}overrideTypes(){return this}}return Vi.default=r,Vi}var jc;function Zf(){if(jc)return Fi;jc=1,Object.defineProperty(Fi,"__esModule",{value:!0});const e=fr.__importDefault(Xf());class n extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Fi.default=n,Fi}var Oc;function Xl(){if(Oc)return zi;Oc=1,Object.defineProperty(zi,"__esModule",{value:!0});const e=fr.__importDefault(Zf());class n extends e.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${u}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return zi.default=n,zi}var Pc;function ep(){if(Pc)return Bi;Pc=1,Object.defineProperty(Bi,"__esModule",{value:!0});const e=fr.__importDefault(Xl());class n{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(s),this.schema=o,this.fetch=a}select(i,s){const{head:o=!1,count:a}=s??{},l=o?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:o=!0}={}){var a;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,v)=>f.concat(Object.keys(v)),[]);if(d.length>0){const f=[...new Set(d)].map(v=>`"${v}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var o;const a="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var s;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Bi.default=n,Bi}var Rc;function wy(){if(Rc)return Mi;Rc=1,Object.defineProperty(Mi,"__esModule",{value:!0});const t=fr,e=t.__importDefault(ep()),n=t.__importDefault(Xl());class r{constructor(s,{headers:o={},schema:a,fetch:l}={}){this.url=s,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(s){const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new r(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let d;const f=new URL(`${this.url}/rpc/${s}`);let v;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([y,S])=>S!==void 0).map(([y,S])=>[y,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([y,S])=>{f.searchParams.append(y,S)})):(d="POST",v=o);const w=new Headers(this.headers);return u&&w.set("Prefer",`count=${u}`),new n.default({method:d,url:f,headers:w,schema:this.schemaName,body:v,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Mi.default=r,Mi}Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const pr=fr,tp=pr.__importDefault(wy());Ce.PostgrestClient=tp.default;const np=pr.__importDefault(ep());Ce.PostgrestQueryBuilder=np.default;const rp=pr.__importDefault(Xl());Ce.PostgrestFilterBuilder=rp.default;const ip=pr.__importDefault(Zf());Ce.PostgrestTransformBuilder=ip.default;const sp=pr.__importDefault(Xf());Ce.PostgrestBuilder=sp.default;const op=pr.__importDefault(Yf());Ce.PostgrestError=op.default;var _y=Ce.default={PostgrestClient:tp.default,PostgrestQueryBuilder:np.default,PostgrestFilterBuilder:rp.default,PostgrestTransformBuilder:ip.default,PostgrestBuilder:sp.default,PostgrestError:op.default};const{PostgrestClient:Sy,PostgrestQueryBuilder:Uw,PostgrestFilterBuilder:Dw,PostgrestTransformBuilder:Mw,PostgrestBuilder:Bw,PostgrestError:zw}=_y;class ky{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Ey="2.76.1",xy=`realtime-js/${Ey}`,by="1.0.0",Wa=1e4,Ty=1e3,Cy=100;var Fr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Fr||(Fr={}));var se;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(se||(se={}));var it;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(it||(it={}));var Ha;(function(t){t.websocket="websocket"})(Ha||(Ha={}));var an;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(an||(an={}));class jy{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class ap{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(W||(W={}));const Ic=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=Oy(o,t,e,i),s),{}):{}},Oy=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?lp(s,o):qa(o)},lp=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Ny(e,n)}switch(t){case W.bool:return Py(e);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return Ry(e);case W.json:case W.jsonb:return Iy(e);case W.timestamp:return Ay(e);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return qa(e);default:return qa(e)}},qa=t=>t,Py=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ry=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Iy=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ny=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>lp(e,a))}return t},Ay=t=>typeof t=="string"?t.replace(" ","T"):t,up=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Uo{constructor(e,n,r={},i=Wa){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Nc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Nc||(Nc={}));class Vr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vr.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Vr.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Vr.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const f=c.map(S=>S.presence_ref),v=d.map(S=>S.presence_ref),w=c.filter(S=>v.indexOf(S.presence_ref)<0),y=d.filter(S=>f.indexOf(S.presence_ref)<0);w.length>0&&(a[u]=w),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(v=>v.presence_ref),f=c.filter(v=>d.indexOf(v.presence_ref)<0);e[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ac;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ac||(Ac={}));var Wr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Wr||(Wr={}));var yt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class Zl{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Uo(this,it.join,this.params,this.timeout),this.rejoinTimer=new ap(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=se.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(it.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Vr(this),this.broadcastEndpointURL=up(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==se.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Wr.PRESENCE]&&this.bindings[Wr.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(yt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(yt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){e==null||e(yt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,S=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,g=[];for(let h=0;h<S;h++){const p=y[h],{filter:{event:_,schema:k,table:E,filter:b}}=p,C=v&&v[h];if(C&&C.event===_&&C.schema===k&&C.table===E&&C.filter===b)g.push(Object.assign(Object.assign({},p),{id:C.id}));else{this.unsubscribe(),this.state=se.errored,e==null||e(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(yt.SUBSCRIBED);return}}).receive("error",v=>{this.state=se.errored,e==null||e(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===se.joined&&e===Wr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=se.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(it.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Uo(this,it.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=se.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Uo(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Cy){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=it;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var w,y,S;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(y=v.filter)===null||y===void 0?void 0:y.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(v=>v.callback(f,r)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var w,y,S,g,h,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,k=(w=v.filter)===null||w===void 0?void 0:w.event;return _&&((y=n.ids)===null||y===void 0?void 0:y.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const _=(h=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return _==="*"||_===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:y,table:S,commit_timestamp:g,type:h,errors:p}=w;f=Object.assign(Object.assign({},{schema:y,table:S,commit_timestamp:g,eventType:h,new:{},old:{},errors:p}),this._getPayloadRecords(w))}v.callback(f,r)})}_isClosed(){return this.state===se.closed}_isJoined(){return this.state===se.joined}_isJoining(){return this.state===se.joining}_isLeaving(){return this.state===se.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Zl.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(it.close,{},e)}_onError(e){this._on(it.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=se.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Ic(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Ic(e.columns,e.old_record)),n}}const Do=()=>{},Hi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$y=[1e3,2e3,5e3,1e4],Ly=1e4,Uy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Dy{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wa,this.transport=null,this.heartbeatIntervalMs=Hi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Do,this.ref=0,this.reconnectTimer=null,this.logger=Do,this.conn=null,this.sendBuffer=[],this.serializer=new jy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>hr(async()=>{const{default:a}=await Promise.resolve().then(()=>En);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ha.websocket}`,this.httpEndpoint=up(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ky.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:by}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Fr.connecting:return an.Connecting;case Fr.open:return an.Open;case Fr.closing:return an.Closing;default:return an.Closed}}isConnected(){return this.connectionState()===an.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Zl(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Ty,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Hi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(it.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Uy],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:xy};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(it.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ap(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,o,a,l,u,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Wa,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Hi.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Do,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>$y[d-1]||Ly,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(d,f)=>f(JSON.stringify(d)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class eu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function J(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class My extends eu{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ka extends eu{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const tu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>hr(async()=>{const{default:r}=await Promise.resolve().then(()=>En);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},By=()=>R(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hr(()=>Promise.resolve().then(()=>En),void 0)).Response:Response}),Ga=t=>{if(Array.isArray(t))return t.map(n=>Ga(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Ga(r)}),e},zy=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Mo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Fy=(t,e,n)=>R(void 0,void 0,void 0,function*(){const r=yield By();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new My(Mo(i),s,o))}).catch(i=>{e(new Ka(Mo(i),i))}):e(new Ka(Mo(t),t))}),Vy=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(zy(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function yi(t,e,n,r,i,s){return R(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Vy(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Fy(l,a,r))})})}function ci(t,e,n,r){return R(this,void 0,void 0,function*(){return yi(t,"GET",e,n,r)})}function nt(t,e,n,r,i){return R(this,void 0,void 0,function*(){return yi(t,"POST",e,r,i,n)})}function Ja(t,e,n,r,i){return R(this,void 0,void 0,function*(){return yi(t,"PUT",e,r,i,n)})}function Wy(t,e,n,r){return R(this,void 0,void 0,function*(){return yi(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function nu(t,e,n,r,i){return R(this,void 0,void 0,function*(){return yi(t,"DELETE",e,r,i,n)})}class Hy{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return R(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(J(e))return{data:null,error:e};throw e}})}}var cp;class qy{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[cp]="BlobDownloadBuilder",this.promise=null}asStream(){return new Hy(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return R(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(J(e))return{data:null,error:e};throw e}})}}cp=Symbol.toStringTag;const Ky={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$c={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Gy{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=tu(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return R(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},$c),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(e=="PUT"?Ja:nt)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}upload(e,n,r){return R(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return R(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:$c.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield Ja(this.fetch,a.toString(),l,{headers:c});return{data:{path:s,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(J(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return R(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield nt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new eu("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}update(e,n,r){return R(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return R(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(J(i))return{data:null,error:i};throw i}})}copy(e,n,r){return R(this,void 0,void 0,function*(){try{return{data:{path:(yield nt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(J(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return R(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield nt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(J(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return R(this,void 0,void 0,function*(){try{const i=yield nt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(J(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(e),l=()=>ci(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new qy(l,this.shouldThrowOnError)}info(e){return R(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ci(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ga(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}exists(e){return R(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Wy(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r)&&r instanceof Ka){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return R(this,void 0,void 0,function*(){try{return{data:yield nu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}list(e,n,r){return R(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Ky),n),{prefix:e||""});return{data:yield nt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(J(i))return{data:null,error:i};throw i}})}listV2(e,n){return R(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield nt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const dp="2.76.1",hp={"X-Client-Info":`storage-js/${dp}`};class Jy{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hp),n),this.fetch=tu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return R(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(J(e))return{data:null,error:e};throw e}})}getBucket(e){return R(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}createBucket(e){return R(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield nt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(J(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return R(this,void 0,void 0,function*(){try{return{data:yield Ja(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}emptyBucket(e){return R(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}deleteBucket(e){return R(this,void 0,void 0,function*(){try{return{data:yield nu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}}class Qy{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hp),n),this.fetch=tu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return R(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}listBuckets(e){return R(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,s=yield ci(this.fetch,i,{headers:this.headers});return{data:Array.isArray(s)?s.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}deleteBucket(e){return R(this,void 0,void 0,function*(){try{return{data:yield nu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}}const ru={"X-Client-Info":`storage-js/${dp}`,"Content-Type":"application/json"};class fp extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function $e(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Bo extends fp{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yy extends fp{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Lc;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Lc||(Lc={}));const iu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>hr(async()=>{const{default:r}=await Promise.resolve().then(()=>En);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Xy=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Uc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Zy=(t,e,n)=>R(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new Bo(Uc(o),i,a))}).catch(()=>{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new Bo(a,i,o))});else{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new Bo(a,i,o))}}else e(new Yy(Uc(t),t))}),e0=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(Xy(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function t0(t,e,n,r,i,s){return R(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,e0(e,r,i,s)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Zy(l,a,r))})})}function Le(t,e,n,r,i){return R(this,void 0,void 0,function*(){return t0(t,"POST",e,r,i,n)})}class n0{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ru),n),this.fetch=iu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return R(this,void 0,void 0,function*(){try{return{data:(yield Le(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}getIndex(e,n){return R(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}listIndexes(e){return R(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return R(this,void 0,void 0,function*(){try{return{data:(yield Le(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}}class r0{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ru),n),this.fetch=iu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return R(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Le(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}getVectors(e){return R(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}listVectors(e){return R(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Le(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}queryVectors(e){return R(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}deleteVectors(e){return R(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Le(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}}class i0{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ru),n),this.fetch=iu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return R(this,void 0,void 0,function*(){try{return{data:(yield Le(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}getBucket(e){return R(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}listBuckets(){return R(this,arguments,void 0,function*(e={}){try{return{data:yield Le(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}deleteBucket(e){return R(this,void 0,void 0,function*(){try{return{data:(yield Le(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}}class s0 extends i0{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new o0(this.url,this.headers,e,this.fetch)}}class o0 extends n0{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return R(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return R(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return R(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return R(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new a0(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class a0 extends r0{constructor(e,n,r,i,s){super(e,n,s),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return R(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return R(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return R(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return R(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return R(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class l0 extends Jy{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new Gy(this.url,this.headers,e,this.fetch)}get vectors(){return new s0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Qy(this.url+"/iceberg",this.headers,this.fetch)}}const u0="2.76.1";let Ir="";typeof Deno<"u"?Ir="deno":typeof document<"u"?Ir="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ir="react-native":Ir="node";const c0={"X-Client-Info":`supabase-js-${Ir}/${u0}`},d0={headers:c0},h0={schema:"public"},f0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},p0={},g0=t=>{let e;return t?e=t:typeof fetch>"u"?e=Jf:e=fetch,(...n)=>e(...n)},v0=()=>typeof Headers>"u"?Qf:Headers,m0=(t,e,n)=>{const r=g0(n),i=v0();return async(s,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))}};function y0(t){return t.endsWith("/")?t:t+"/"}function w0(t,e){var n,r;const{db:i,auth:s,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function _0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(y0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const pp="2.76.1",Pn=30*1e3,Qa=3,zo=Qa*Pn,S0="http://localhost:9999",k0="supabase.auth.token",E0={"X-Client-Info":`gotrue-js/${pp}`},Ya="X-Supabase-Api-Version",gp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},x0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,b0=10*60*1e3;class di extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function N(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class T0 extends di{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function C0(t){return N(t)&&t.name==="AuthApiError"}class ln extends di{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Zt extends di{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Rt extends Zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function j0(t){return N(t)&&t.name==="AuthSessionMissingError"}class bn extends Zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qi extends Zt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ki extends Zt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function O0(t){return N(t)&&t.name==="AuthImplicitGrantRedirectError"}class Dc extends Zt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xa extends Zt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Fo(t){return N(t)&&t.name==="AuthRetryableFetchError"}class Mc extends Zt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Za extends Zt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Is="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bc=` 	
\r=`.split(""),P0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Bc.length;e+=1)t[Bc[e].charCodeAt(0)]=-2;for(let e=0;e<Is.length;e+=1)t[Is[e].charCodeAt(0)]=e;return t})();function zc(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Is[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Is[r]),e.queuedBits-=6}}function vp(t,e,n){const r=P0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Fc(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{N0(o,r,n)};for(let o=0;o<t.length;o+=1)vp(t.charCodeAt(o),i,s);return e.join("")}function R0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function I0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}R0(r,e)}}function N0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Qn(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)vp(t.charCodeAt(i),n,r);return new Uint8Array(e)}function A0(t){const e=[];return I0(t,n=>e.push(n)),new Uint8Array(e)}function hn(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>zc(i,n,r)),zc(null,n,r),e.join("")}function $0(t){return Math.round(Date.now()/1e3)+t}function L0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ne=()=>typeof window<"u"&&typeof document<"u",tn={tested:!1,writable:!1},mp=()=>{if(!Ne())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tn.tested)return tn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),tn.tested=!0,tn.writable=!0}catch{tn.tested=!0,tn.writable=!1}return tn.writable};function U0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const yp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>hr(async()=>{const{default:r}=await Promise.resolve().then(()=>En);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},D0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Rn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},nn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Pt=async(t,e)=>{await t.removeItem(e)};class ro{constructor(){this.promise=new ro.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ro.promiseConstructor=Promise;function Vo(t){const e=t.split(".");if(e.length!==3)throw new Za("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!x0.test(e[r]))throw new Za("JWT not in base64url format");return{header:JSON.parse(Fc(e[0])),payload:JSON.parse(Fc(e[1])),signature:Qn(e[2]),raw:{header:e[0],payload:e[1]}}}async function M0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function B0(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function z0(t){return("0"+t.toString(16)).substr(-2)}function F0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,z0).join("")}async function V0(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function W0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await V0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tn(t,e,n=!1){const r=F0();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Rn(t,`${e}-code-verifier`,i);const s=await W0(r);return[s,r===s?"plain":"s256"]}const H0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function q0(t){const e=t.headers.get(Ya);if(!e||!e.match(H0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function K0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function G0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const J0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cn(t){if(!J0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wo(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vc(t){return JSON.parse(JSON.stringify(t))}const on=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Q0=[502,503,504];async function Wc(t){var e;if(!D0(t))throw new Xa(on(t),0);if(Q0.includes(t.status))throw new Xa(on(t),t.status);let n;try{n=await t.json()}catch(s){throw new ln(on(s),s)}let r;const i=q0(t);if(i&&i.getTime()>=gp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Mc(on(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Rt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Mc(on(n),t.status,n.weak_password.reasons);throw new T0(on(n),t.status||500,r)}const Y0=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function U(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Ya]||(s[Ya]=gp["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await X0(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function X0(t,e,n,r,i,s){const o=Y0(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Xa(on(l),0)}if(a.ok||await Wc(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Wc(l)}}function et(t){var e;let n=null;tw(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=$0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Hc(t){const e=et(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Lt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Z0(t){return{data:t,error:null}}function ew(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=dr(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function qc(t){return t}function tw(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ho=["global","local","others"];class nw{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=yp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Ho[0]){if(Ho.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ho.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(N(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Lt})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=dr(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ew,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(N(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Lt})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:qc});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);u[`${S}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(N(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Cn(e);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Lt})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Cn(e);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Lt})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Cn(e);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Lt})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Cn(e.userId);try{const{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(N(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Cn(e.userId),Cn(e.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await U(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:qc});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);u[`${S}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(N(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await U(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await U(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}}function Kc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const jn={debug:!!(globalThis&&mp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class rw extends wp{}async function iw(t,e,n){jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),jn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new rw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(jn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function sw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _p(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function ow(t){return parseInt(t,16)}function aw(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function lw(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=_p(t.address),w=c?`${c}://${r}`:r,y=t.statement?`${t.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${v}

${y}`;let g=`URI: ${d}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let h=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);h+=`
- ${p}`}g+=h}return`${S}
${g}`}class re extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Ns extends re{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function uw({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new re({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new re({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new re({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new re({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new re({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new re({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new re({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new re({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Sp(o)){if(s.rp.id!==o)return new re({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new re({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new re({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function cw({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new re({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new re({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Sp(r)){if(n.rpId!==r)return new re({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new re({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class dw{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const hw=new dw;function fw(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=dr(t,["challenge","user","excludeCredentials"]),s=Qn(e).buffer,o=Object.assign(Object.assign({},n),{id:Qn(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Qn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function pw(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=dr(t,["challenge","allowCredentials"]),i=Qn(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Qn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function gw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:hn(new Uint8Array(t.response.attestationObject)),clientDataJSON:hn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:hn(new Uint8Array(i.authenticatorData)),clientDataJSON:hn(new Uint8Array(i.clientDataJSON)),signature:hn(new Uint8Array(i.signature)),userHandle:i.userHandle?hn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Sp(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Gc(){var t,e;return!!(Ne()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function mw(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ns("Browser returned unexpected credential type",e)}:{data:null,error:new Ns("Empty credential response",e)}}catch(e){return{data:null,error:uw({error:e,options:t})}}}async function yw(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ns("Browser returned unexpected credential type",e)}:{data:null,error:new Ns("Empty credential response",e)}}catch(e){return{data:null,error:cw({error:e,options:t})}}}const ww={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},_w={userVerification:"preferred",hints:["security-key"]};function As(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(e(o)){const a=r[s];e(a)?r[s]=As(a,o):r[s]=As(o)}else r[s]=o}return r}function Sw(t,e){return As(ww,t,e||{})}function kw(t,e){return As(_w,t,e||{})}class Ew{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=i??hw.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Sw(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:c,error:d}=await mw({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=kw(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:c,error:d}=await yw(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return N(o)?{data:null,error:o}:{data:null,error:new ln("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new di("rpId is required for WebAuthn authentication")};try{if(!Gc())return{data:null,error:new ln("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return N(o)?{data:null,error:o}:{data:null,error:new ln("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new di("rpId is required for WebAuthn registration")};try{if(!Gc())return{data:null,error:new ln("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return N(o)?{data:null,error:o}:{data:null,error:new ln("Unexpected error in register",o)}}}}sw();const xw={url:S0,storageKey:k0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:E0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jc(t,e,n){return await n()}const On={};class hi{get jwks(){var e,n;return(n=(e=On[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){On[this.storageKey]=Object.assign(Object.assign({},On[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=On[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){On[this.storageKey]=Object.assign(Object.assign({},On[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hi.nextInstanceID,hi.nextInstanceID+=1,this.instanceID>0&&Ne()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},xw),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new nw({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=yp(i.fetch),this.lock=i.lock||Jc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ne()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=iw:this.lock=Jc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ew(this)},this.persistSession?(i.storage?this.storage=i.storage:mp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Kc(this.memoryStorage)),Ne()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pp}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=U0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ne()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),O0(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return N(n)?{error:n}:{error:new ln("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:et}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(N(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:c,password:d,options:f}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await Tn(this.storage,this.storageKey)),s=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:w},xform:et})}else if("phone"in e){const{phone:c,password:d,options:f}=e;s=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:et})}else throw new qi("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(N(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hc})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hc})}else throw new qi("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new bn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(N(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,o,a,l,u,c,d,f;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:y,wallet:S,statement:g,options:h}=e;let p;if(Ne())if(typeof S=="object")p=S;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")p=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=S}const _=new URL((n=h==null?void 0:h.url)!==null&&n!==void 0?n:window.location.href),k=await p.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=_p(k[0]);let b=(r=h==null?void 0:h.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!b){const D=await p.request({method:"eth_chainId"});b=ow(D)}const C={domain:_.host,address:E,statement:g,uri:_.href,version:"1",chainId:b,nonce:(i=h==null?void 0:h.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=h==null?void 0:h.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=h==null?void 0:h.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=h==null?void 0:h.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=h==null?void 0:h.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=h==null?void 0:h.signInWithEthereum)===null||c===void 0?void 0:c.resources};v=lw(C),w=await p.request({method:"personal_sign",params:[aw(v),E]})}try{const{data:y,error:S}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:w},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:et});if(S)throw S;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new bn}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:S})}catch(y){if(N(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var n,r,i,s,o,a,l,u,c,d,f,v;let w,y;if("message"in e)w=e.message,y=e.signature;else{const{chain:S,wallet:g,statement:h,options:p}=e;let _;if(Ne())if(typeof g=="object")_=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const k=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),h?{statement:h}:null));let b;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")b=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)b=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)w=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),y=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${k.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(i=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=p==null?void 0:p.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((d=(c=p==null?void 0:p.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...p.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:S,error:g}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:hn(y)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:et});if(g)throw g;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new bn}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:g})}catch(S){if(N(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await nn(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:et});if(await Pt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new bn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(N(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:et}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new bn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(N(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Tn(this.storage,this.storageKey));const{error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new qi("You must provide either an email or phone number.")}catch(a){if(N(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:et});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(N(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Tn(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Z0})}catch(s){if(N(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Rt;const{error:i}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(N(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await U(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await U(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new qi("You must provide either an email or phone number and a type")}catch(n){if(N(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await nn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<zo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await nn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Wo()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Lt}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Lt})})}catch(n){if(N(n))return j0(n)&&(await this._removeSession(),await Pt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Rt;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Tn(this.storage,this.storageKey));const{data:u,error:c}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Lt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Rt;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Vo(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(N(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Rt;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(N(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ne())throw new Ki("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ki(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Dc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ki("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Dc("No code detected.");const{data:h,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!s||!a||!o||!u)throw new Ki("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const v=f-c;v*1e3<=Pn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${d}s`);const w=f-d;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,c);const{data:y,error:S}=await this._getUser(s);if(S)throw S;const g={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(N(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await nn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(C0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Pt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=L0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Tn(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(N(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:d,error:f}=s;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Ne()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(N(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,d=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:et}),{data:f,error:v}=d;return v?{data:{user:null,session:null},error:v}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new bn}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:v})}catch(i){if(N(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await B0(async i=>(i>0&&await M0(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:et})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Fo(s)&&Date.now()+o-r<Pn})}catch(r){if(this._debug(n,"error",r),N(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ne()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await nn(this.storage,this.storageKey);if(i&&this.userStorage){let o=await nn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Rn(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Wo()}else if(i&&!i.user&&!i.user){const o=await nn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Pt(this.storage,this.storageKey+"-user"),await Rn(this.storage,this.storageKey,i)):i.user=Wo()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<zo;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${zo}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Fo(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ro;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Rt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),N(s)){const o={data:null,error:s};return Fo(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Rn(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=Vc(i);await Rn(this.storage,this.storageKey,s)}else{const i=Vc(n);await Rn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Pt(this.storage,this.storageKey),await Pt(this.storage,this.storageKey+"-code-verifier"),await Pt(this.storage,this.storageKey+"-user"),this.userStorage&&await Pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ne()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Pn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Pn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Pn}ms, refresh threshold is ${Qa} ticks`),i<=Qa&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof wp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ne()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Tn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?gw(e.webauthn.credential_response):vw(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(N(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:fw(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:pw(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(N(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Vo(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+b0>i)return r;const{data:s,error:o}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};r=v.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Vo(r);n!=null&&n.allowExpired||K0(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:s,header:i,signature:o},error:null}}const c=G0(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,A0(`${a}.${l}`)))throw new Za("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(N(r))return{data:null,error:r};throw r}}}hi.nextInstanceID=0;const bw=hi;class Tw extends bw{constructor(e){super(e)}}class Cw{constructor(e,n,r){var i,s,o;this.supabaseUrl=e,this.supabaseKey=n;const a=_0(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:h0,realtime:p0,auth:Object.assign(Object.assign({},f0),{storageKey:l}),global:d0},c=w0(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=m0(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Sy(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new l0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new fy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:o,flowType:a,lock:l,debug:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Tw({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:a,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Dy(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jw=(t,e,n)=>new Cw(t,e,n);function Ow(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Ow()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Pw="https://yekobgusioinpntfzrjk.supabase.co",Rw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlla29iZ3VzaW9pbnBudGZ6cmprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzMjk4MTMsImV4cCI6MjA3NDkwNTgxM30.yvQu17NK8FpOnolWryCOVZmii8zVZkz8yvTPP6ATs84",ce=jw(Pw,Rw),Iw=t=>{if(!t||t<=0||!Number.isFinite(t))return"0p";const e=Math.round(t*60),n=Math.floor(e/60),r=e%60;return n>0&&r>0?`${n}h${r}p`:n>0?`${n}h`:`${r}p`};function Nw(){const t=eo(),{checkin:e,checkout:n,setCheckin:r,setCheckout:i,spaces:s,addSpace:o,removeSpace:a,services:l,addService:u,setServiceQuantity:c,removeService:d,totalAmount:f,estimatedHours:v}=Jl(),[w,y]=x.useState([]),[S,g]=x.useState([]),[h,p]=x.useState([]),[_,k]=x.useState(!1),[E,b]=x.useState(""),[C,D]=x.useState(""),[$,ue]=x.useState("09:00"),[be,Je]=x.useState("18:00"),[Qe,Ye]=x.useState(!1),[jt,en]=x.useState(""),[O,A]=x.useState(!1),[I,L]=x.useState([]),V=x.useRef(null),_e=x.useRef(null),te=x.useRef(null),ut=x.useRef(0),[Xe,Fe]=x.useState(0),gr=x.useRef(null),wi=x.useRef(0),[kp,io]=x.useState(0);x.useEffect(()=>{(async()=>{try{const[{data:M,error:ne,status:vr},{data:so,error:_i,status:mr},{data:oo,error:yr,status:Si}]=await Promise.all([ce.from("loi khng gian").select("space_type_id, space_name, unit_price_hourly"),ce.from("khng gian").select("space_id, space_type_id"),ce.from("dch v").select("service_id, service_name, unit, unit_price")]);ne&&console.error("Error fetching loi khng gian:",ne,"status:",vr),_i&&console.error("Error fetching khng gian:",_i,"status:",mr),yr&&console.error("Error fetching dch v:",yr,"status:",Si),y((M||[]).map(Ie=>({space_type_id:String(Ie.space_type_id),space_name:String(Ie.space_name||""),unit_price_hourly:Number(Ie.unit_price_hourly||0)}))),g((so||[]).map(Ie=>({space_id:String(Ie.space_id),space_type_id:String(Ie.space_type_id)}))),p((oo||[]).map(Ie=>({service_id:String(Ie.service_id),service_name:String(Ie.service_name||""),unit:String(Ie.unit||""),unit_price:Number(Ie.unit_price||0)})))}catch(M){console.error("Unexpected error initializing data:",M)}})()},[]),x.useEffect(()=>{if(e){const j=new Date(e),M=j.getFullYear(),ne=String(j.getMonth()+1).padStart(2,"0"),vr=String(j.getDate()).padStart(2,"0");C||D(`${M}-${ne}-${vr}`)}},[]),x.useEffect(()=>{if(C&&$){const j=new Date(`${C}T${$}:00`);r(j.toISOString())}else r("")},[C,$,r]),x.useEffect(()=>{if(C&&be){const j=new Date(`${C}T${be}:00`);i(j.toISOString())}else i("")},[C,be,i]),x.useEffect(()=>{if(!_)return;const j=M=>{V.current&&!V.current.contains(M.target)&&k(!1)};return document.addEventListener("pointerdown",j),()=>document.removeEventListener("pointerdown",j)},[_]),x.useEffect(()=>{if(!Qe)return;const j=M=>{_e.current&&!_e.current.contains(M.target)&&Ye(!1)};return document.addEventListener("pointerdown",j),()=>document.removeEventListener("pointerdown",j)},[Qe]);const Ep=j=>{te.current=j.clientY,ut.current=0;const M=j.target;M&&typeof M.setPointerCapture=="function"&&M.setPointerCapture(j.pointerId)},xp=j=>{if(te.current==null)return;const M=j.clientY-te.current,ne=Math.max(0,M);ut.current=ne,Fe(ne)},bp=j=>{if(te.current==null)return;const M=ut.current;te.current=null,ut.current=0,M>120&&k(!1),Fe(0)},Tp=j=>{gr.current=j.clientY,wi.current=0;const M=j.target;M&&typeof M.setPointerCapture=="function"&&M.setPointerCapture(j.pointerId)},Cp=j=>{if(gr.current==null)return;const M=j.clientY-gr.current,ne=Math.max(0,M);wi.current=ne,io(ne)},jp=j=>{if(gr.current==null)return;const M=wi.current;gr.current=null,wi.current=0,M>120&&Ye(!1),io(0)},Op=j=>{Pp(j)},Pp=async j=>{if(!C||!$||!be){alert("Vui lng chn ngy v gi check-in/check-out");return}const M=w.find(ne=>ne.space_type_id===j);if(M){b(j),en(M.space_name),Ye(!0),A(!0);try{const ne=new Date(`${C}T${$}:00`).toISOString(),vr=new Date(`${C}T${be}:00`).toISOString(),so=S.filter(gt=>gt.space_type_id===j),{data:_i,error:mr,status:oo}=await ce.from("t ch").select("booking_id, booking_status, checkin, checkout").lt("checkin",vr).gt("checkout",ne);if(mr){console.error("Error fetching overlapping bookings:",mr,"status:",oo),alert(`Khng th ti d liu t ch: ${mr.message}`),L([]);return}const yr=(_i||[]).filter(gt=>{const vt=String(gt.booking_status||"").toLowerCase();return!vt.includes(" hy")&&!vt.includes("da huy")&&!vt.includes("hy")&&!vt.includes("huy")&&!vt.includes("no show")&&!vt.includes(" check-out")&&!vt.includes("da check-out")});let Si=new Set;if(yr.length>0){const gt=yr.map(lo=>lo.booking_id),{data:vt,error:ao,status:Np}=await ce.from("chi tit t ch").select("space_id, booking_id").in("booking_id",gt);if(ao){console.error("Error fetching booking details:",ao,"status:",Np),alert(`Khng th ti chi tit t ch: ${ao.message}`),L([]);return}Si=new Set((vt||[]).map(lo=>String(lo.space_id)))}const Ie=so.filter(gt=>!Si.has(String(gt.space_id))).map(gt=>({space_id:String(gt.space_id)}));L(Ie)}catch(ne){console.error("Error loading available spaces:",ne),L([])}finally{A(!1)}}},Rp=j=>{const M=w.find(ne=>ne.space_type_id===E);M&&(o({spaceId:j,spaceTypeId:M.space_type_id,spaceTypeName:M.space_name,unitPriceHourly:M.unit_price_hourly}),Ye(!1))},Ip=m.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[m.jsxs("button",{className:"btn secondary",style:{flex:1},onClick:()=>k(!0),children:["Tng: ",f.toLocaleString("vi-VN"),""]}),m.jsx("button",{className:"btn",style:{flex:1},onClick:()=>t("/info"),disabled:!e||!n||s.length===0,children:"Tip tc"})]});return m.jsxs(to,{bottom:Ip,children:[m.jsxs("div",{className:"section",style:{textAlign:"center"},children:[m.jsx("label",{className:"label",style:{textAlign:"left"},children:"Ngy s dng"}),m.jsx("input",{className:"input",type:"date",value:C,onChange:j=>D(j.target.value),style:{margin:"0 auto",maxWidth:220}}),m.jsx("div",{style:{height:12}}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[m.jsxs("div",{children:[m.jsx("label",{className:"label",children:"Check-in"}),m.jsx("input",{className:"input",type:"time",value:$,onChange:j=>ue(j.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"label",children:"Check-out"}),m.jsx("input",{className:"input",type:"time",value:be,onChange:j=>Je(j.target.value)})]})]}),v>0&&m.jsxs("div",{style:{marginTop:8,color:"#64748b"},children:["Tng thi gian d kin: ",Iw(v)]})]}),m.jsxs("div",{className:"section",children:[m.jsx("h4",{style:{margin:0},children:"Chn loi khng gian"}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:12},children:w.map(j=>m.jsx("button",{className:"btn secondary",onClick:()=>Op(j.space_type_id),children:j.space_name},j.space_type_id))}),s.length>0&&m.jsxs(m.Fragment,{children:[m.jsx("div",{style:{height:12}}),m.jsx("div",{className:"list-item",children:m.jsx("strong",{children:" chn"})}),s.map(j=>m.jsxs("div",{className:"list-item",children:[m.jsx("div",{children:m.jsxs("div",{children:[j.spaceTypeName,"  ",j.spaceId]})}),m.jsx("button",{className:"btn ghost",onClick:()=>a(j.spaceId),children:"Xo"})]},j.spaceId))]})]}),m.jsxs("div",{className:"section",children:[m.jsx("h4",{style:{margin:0},children:"Dch v"}),h.map(j=>{const M=l.find(ne=>ne.serviceId===j.service_id);return m.jsxs("div",{className:"list-item",children:[m.jsxs("div",{children:[m.jsx("div",{children:j.service_name}),m.jsxs("div",{style:{color:"#64748b",fontSize:12},children:[j.unit_price.toLocaleString("vi-VN"),"/",j.unit]})]}),m.jsx("div",{style:{display:"flex",alignItems:"center",gap:8},children:M?m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[m.jsx("button",{className:"btn ghost",onClick:()=>c(j.service_id,Math.max(0,M.quantity-1)),children:"-"}),m.jsx("div",{style:{minWidth:24,textAlign:"center"},children:M.quantity}),m.jsx("button",{className:"btn ghost",onClick:()=>c(j.service_id,M.quantity+1),children:"+"}),m.jsx("button",{className:"btn ghost",onClick:()=>d(j.service_id),children:"Xo"})]}):m.jsx("button",{className:"btn",onClick:()=>u({serviceId:j.service_id,serviceName:j.service_name,unit:j.unit,unitPrice:j.unit_price},1),children:"Thm"})})]},j.service_id)})]}),_&&m.jsxs("div",{ref:V,className:"sheet",style:{padding:16,transform:`translateY(${Xe}px)`},children:[m.jsx("div",{className:"sheet-handle",onPointerDown:Ep,onPointerMove:xp,onPointerUp:bp}),m.jsx("h3",{style:{marginTop:4},children:"Chi tit  chn"}),m.jsx("div",{className:"list-item",children:m.jsx("strong",{children:"Khng gian"})}),s.length===0&&m.jsx("div",{style:{color:"#64748b"},children:"Cha chn"}),s.map(j=>m.jsxs("div",{className:"list-item",children:[m.jsxs("div",{children:[j.spaceTypeName,"  ",j.spaceId]}),m.jsxs("div",{children:[(j.unitPriceHourly*Math.max(v,0)).toLocaleString("vi-VN"),""]})]},j.spaceId)),m.jsx("div",{className:"list-item",children:m.jsx("strong",{children:"Dch v"})}),l.length===0&&m.jsx("div",{style:{color:"#64748b"},children:"Cha chn"}),l.map(j=>m.jsxs("div",{className:"list-item",children:[m.jsxs("div",{children:[j.serviceName," x",j.quantity]}),m.jsxs("div",{children:[(j.unitPrice*j.quantity).toLocaleString("vi-VN"),""]})]},j.serviceId)),m.jsxs("div",{className:"list-item",children:[m.jsx("strong",{children:"Tng"}),m.jsxs("strong",{children:[f.toLocaleString("vi-VN"),""]})]}),m.jsx("button",{className:"btn full",style:{marginTop:12},onClick:()=>k(!1),children:"ng"})]}),Qe&&m.jsxs("div",{ref:_e,className:"sheet",style:{padding:16,transform:`translateY(${kp}px)`},children:[m.jsx("div",{className:"sheet-handle",onPointerDown:Tp,onPointerMove:Cp,onPointerUp:jp}),m.jsxs("h3",{style:{marginTop:4},children:["Chn khng gian - ",jt]}),O?m.jsx("div",{style:{padding:16,color:"#64748b"},children:"ang ti danh sch..."}):m.jsx(m.Fragment,{children:I.length===0?m.jsx("div",{style:{padding:16,color:"#64748b"},children:"Khng cn khng gian trng trong khong thi gian  chn."}):m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12},children:I.map(j=>m.jsx("button",{className:"btn secondary",style:{aspectRatio:"1 / 1",padding:8},onClick:()=>Rp(j.space_id),children:m.jsx("div",{style:{fontWeight:700},children:j.space_id})},j.space_id))})}),m.jsx("button",{className:"btn full",style:{marginTop:12},onClick:()=>Ye(!1),children:"ng"})]})]})}function Aw(){const t=eo(),{checkin:e,checkout:n,spaces:r,services:i,totalAmount:s,setCustomer:o,clear:a}=Jl(),[l,u]=x.useState(""),[c,d]=x.useState(""),[f,v]=x.useState(""),[w,y]=x.useState(!1),S=async()=>{var h,p,_;if(!l.trim()||!c.trim()){alert("Vui lng in H tn v S in thoi");return}o({name:l,phone:c,email:f||void 0}),y(!0);try{if(!e||!n||r.length===0){alert("Vui lng chn ngy gi v t nht mt khng gian trc khi xc nhn."),y(!1);return}const k=c.replace(/\D+/g,"").trim();let E;const{data:b,error:C}=await ce.from("Khch hng").select("customer_id, customer_name, customer_phone").eq("customer_phone",k).limit(1).maybeSingle();if(C){console.error("Error finding customer by phone:",C),alert(`Khng th kim tra khch hng: ${C.message}`),y(!1);return}if(b!=null&&b.customer_id)E=String(b.customer_id);else{const{data:I,error:L}=await ce.from("Khch hng").insert({customer_name:l.trim(),customer_phone:k,customer_email:(f==null?void 0:f.trim())||null,customer_type_id:1}).select("customer_id").single();if(L){const V=((h=L.message)==null?void 0:h.toLowerCase())||"";if(V.includes("duplicate key")||V.includes("unique constraint")){const{data:_e,error:te}=await ce.from("Khch hng").select("customer_id").order("customer_id",{ascending:!1}).limit(1);if(te){console.error("Error reading max customer_id:",te),alert(`Khng th to khch hng: ${L.message}`),y(!1);return}const ut=_e&&_e.length>0?(Number(_e[0].customer_id)||0)+1:1,{data:Xe,error:Fe}=await ce.from("Khch hng").insert({customer_id:ut,customer_name:l.trim(),customer_phone:k,customer_email:(f==null?void 0:f.trim())||null,customer_type_id:1}).select("customer_id").single();if(Fe){console.error("Retry create customer failed:",Fe),alert(`Khng th to khch hng: ${Fe.message}`),y(!1);return}E=String(Xe.customer_id)}else{console.error("Error creating customer:",L),alert(`Khng th to khch hng: ${L.message}`),y(!1);return}}else E=String(I.customer_id)}let D="";const{data:$}=await ce.from("t ch").select("booking_id").order("booking_id",{ascending:!1}).limit(1);if($&&$.length>0){const I=Number($[0].booking_id)||0;D=String(I+1)}const ue={checkin:e,checkout:n,customer_id:E,booking_status:"Cha check-in",customer_source_id:3};D&&(ue.booking_id=D);const{data:be,error:Je}=await ce.from("t ch").insert(ue).select("booking_id").single();if(Je)if((p=Je.message)!=null&&p.toLowerCase().includes("duplicate")){delete ue.booking_id;const{data:I,error:L}=await ce.from("t ch").insert(ue).select("booking_id").single();if(L){alert(`Li to t ch: ${L.message}`),y(!1);return}D=String(I.booking_id)}else{alert(`Li to t ch: ${Je.message}`),y(!1);return}else D=String(be.booking_id);let Qe="";const{data:Ye}=await ce.from("booking dch v").select("booking_service_id").order("booking_service_id",{ascending:!1}).limit(1);let jt={};if(Ye&&Ye.length>0){const I=Number(Ye[0].booking_service_id)||0;jt.booking_service_id=String(I+1)}const{data:en,error:O}=await ce.from("booking dch v").insert(jt).select("booking_service_id").single();if(O)if((_=O.message)!=null&&_.toLowerCase().includes("duplicate")){const{data:I,error:L}=await ce.from("booking dch v").insert({}).select("booking_service_id").single();if(L){alert(`Li to booking dch v: ${L.message}`),y(!1);return}Qe=String(I.booking_service_id)}else{alert(`Li to booking dch v: ${O.message}`),y(!1);return}else Qe=String(en.booking_service_id);const{error:A}=await ce.from("ha n").insert({booking_id:D,booking_service_id:Qe,total:s,payment_medthod:null,customer_id:E,create_date:new Date().toISOString()});if(A){alert(`Li to ha n: ${A.message}`),y(!1);return}for(const I of r){const L={booking_id:D,space_id:I.spaceId},V=Number(D),_e=Number(I.spaceId);!isNaN(V)&&!isNaN(_e)&&(L.booking_id=V,L.space_id=_e);const{error:te}=await ce.from("chi tit t ch").insert(L);if(te){console.error("Error creating booking detail:",te,"space:",I.spaceId),alert(`Li to chi tit t ch cho khng gian ${I.spaceId}: ${te.message}`),y(!1);return}}for(const I of i){const{error:L}=await ce.from("chi tit booking dch v").insert({booking_service_id:Qe,service_id:I.serviceId,service_quantity:I.quantity});L&&console.error("Error creating service detail:",L,"service:",I.serviceId)}t("/done")}finally{y(!1)}},g=m.jsx("button",{className:"btn full",onClick:S,disabled:w,children:w?"ang x l...":"Xc nhn thng tin"});return m.jsxs(to,{bottom:g,children:[m.jsx("h2",{className:"title",children:"Thng tin c nhn"}),m.jsx("p",{className:"subtitle",children:"Vui lng kim tra la chn v in thng tin"}),m.jsxs("div",{className:"section",children:[m.jsxs("div",{className:"list-item",children:[m.jsx("div",{children:"Check-in"}),m.jsx("div",{children:e?new Date(e).toLocaleString("vi-VN"):"-"})]}),m.jsxs("div",{className:"list-item",children:[m.jsx("div",{children:"Check-out"}),m.jsx("div",{children:n?new Date(n).toLocaleString("vi-VN"):"-"})]}),m.jsxs("div",{className:"list-item",children:[m.jsx("strong",{children:"Tng"}),m.jsxs("strong",{children:[s.toLocaleString("vi-VN"),""]})]})]}),m.jsxs("div",{className:"section",children:[m.jsx("h4",{style:{margin:0},children:"Khng gian"}),r.length===0&&m.jsx("div",{style:{color:"#64748b"},children:"Cha chn"}),r.map(h=>m.jsxs("div",{className:"list-item",children:[m.jsx("div",{children:h.spaceTypeName}),m.jsxs("div",{children:[h.unitPriceHourly.toLocaleString("vi-VN"),"/h"]})]},h.spaceId))]}),m.jsxs("div",{className:"section",children:[m.jsx("h4",{style:{margin:0},children:"Dch v"}),i.length===0&&m.jsx("div",{style:{color:"#64748b"},children:"Cha chn"}),i.map(h=>m.jsxs("div",{className:"list-item",children:[m.jsxs("div",{children:[h.serviceName," x",h.quantity]}),m.jsxs("div",{children:[(h.unitPrice*h.quantity).toLocaleString("vi-VN"),""]})]},h.serviceId))]}),m.jsxs("div",{className:"section",children:[m.jsxs("div",{children:[m.jsx("label",{className:"label",children:"H v tn"}),m.jsx("input",{className:"input",value:l,onChange:h=>u(h.target.value),placeholder:"Nguyn Vn A"})]}),m.jsx("div",{style:{height:8}}),m.jsxs("div",{children:[m.jsx("label",{className:"label",children:"S in thoi"}),m.jsx("input",{className:"input",value:c,onChange:h=>d(h.target.value),placeholder:"09xx xxx xxx"})]}),m.jsx("div",{style:{height:8}}),m.jsxs("div",{children:[m.jsx("label",{className:"label",children:"Email (tu chn)"}),m.jsx("input",{className:"input",value:f,onChange:h=>v(h.target.value),placeholder:"you@example.com"})]})]})]})}function $w(){const t=eo(),{checkin:e,checkout:n,spaces:r,services:i,totalAmount:s,customer:o,clear:a}=Jl(),l=()=>{a(),t("/")},u=m.jsx("button",{className:"btn full",onClick:l,children:"V trang ch"}),c=d=>d?new Date(d).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return m.jsxs(to,{bottom:u,children:[m.jsx("h2",{className:"title",children:"t ch thnh cng"}),m.jsx("p",{className:"subtitle",children:"Cm n bn  t ch. Chng ti s lin h xc nhn sm."}),o&&m.jsxs("div",{className:"section",children:[m.jsx("h4",{style:{margin:0,marginBottom:8},children:"Thng tin khch hng"}),m.jsxs("div",{className:"list-item",children:[m.jsx("div",{children:"H tn"}),m.jsx("div",{children:o.name})]}),m.jsxs("div",{className:"list-item",children:[m.jsx("div",{children:"S in thoi"}),m.jsx("div",{children:o.phone})]}),o.email&&m.jsxs("div",{className:"list-item",children:[m.jsx("div",{children:"Email"}),m.jsx("div",{children:o.email})]})]}),m.jsxs("div",{className:"section",children:[m.jsx("h4",{style:{margin:0,marginBottom:8},children:"Chi tit t ch"}),m.jsxs("div",{className:"list-item",children:[m.jsx("div",{children:"Check-in"}),m.jsx("div",{children:c(e)})]}),m.jsxs("div",{className:"list-item",children:[m.jsx("div",{children:"Check-out"}),m.jsx("div",{children:c(n)})]})]}),m.jsxs("div",{className:"section",children:[m.jsx("h4",{style:{margin:0,marginBottom:8},children:"Khng gian  chn"}),r.length===0?m.jsx("div",{style:{color:"#64748b"},children:"Cha c"}):r.map(d=>m.jsx("div",{className:"list-item",children:m.jsxs("div",{children:[d.spaceTypeName,"  ",d.spaceId]})},d.spaceId))]}),m.jsxs("div",{className:"section",children:[m.jsx("h4",{style:{margin:0,marginBottom:8},children:"Dch v  chn"}),i.length===0?m.jsx("div",{style:{color:"#64748b"},children:"Cha c"}):i.map(d=>m.jsxs("div",{className:"list-item",children:[m.jsxs("div",{children:[d.serviceName," x",d.quantity]}),m.jsxs("div",{children:[(d.unitPrice*d.quantity).toLocaleString("vi-VN"),""]})]},d.serviceId))]}),m.jsx("div",{className:"section",children:m.jsxs("div",{className:"list-item",children:[m.jsx("strong",{children:"Tng tin"}),m.jsxs("strong",{children:[s.toLocaleString("vi-VN"),""]})]})}),m.jsx("div",{className:"section",children:m.jsx("p",{style:{color:"#64748b",fontSize:14},children:"Vui lng kim tra tin nhn/SMS hoc email  nhn thng tin chi tit."})})]})}function Lw(){return m.jsx(iy,{children:m.jsxs(ey,{children:[m.jsx(Rr,{path:"/",element:m.jsx(sy,{})}),m.jsx(Rr,{path:"/book",element:m.jsx(Nw,{})}),m.jsx(Rr,{path:"/info",element:m.jsx(Aw,{})}),m.jsx(Rr,{path:"/done",element:m.jsx($w,{})})]})})}qo.createRoot(document.getElementById("root")).render(m.jsx(ad.StrictMode,{children:m.jsx(ry,{children:m.jsx(Lw,{})})}));
